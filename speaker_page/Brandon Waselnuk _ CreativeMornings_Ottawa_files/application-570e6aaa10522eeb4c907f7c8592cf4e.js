!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},handleRemote:function(n){var s,r,o,a,l,c;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),r=n.attr("action"),o=n.serializeArray();var u=n.data("ujs:submit-button");u&&(o.push(u),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(s=n.data("method"),r=i.href(n),o=n.data("params")||null);return c={type:s||"GET",data:o,dataType:l,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[t,s])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},a&&(c.xhrFields={withCredentials:a}),r&&(c.url=r),i.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var s=i.href(n),r=n.data("method"),o=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+s+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||i.isCrossDomain(s)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),s=!1;return n?(i.fire(t,"confirm")&&(s=i.confirm(n),e=i.fire(t,"confirm:complete",[s])),s&&e):!0},blankInputs:function(e,i,n){var s,r,o=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(s=t(this),r=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!r==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;o=o.add(s)}}),o.length?o:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var s=t(this),r=s.data("method"),o=s.data("params"),a=n.metaKey||n.ctrlKey;if(!i.allowAction(s))return i.stopEverything(n);if(!a&&s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==e){if(a&&(!r||"GET"===r)&&!o)return!0;var l=i.handleRemote(s);return l===!1?i.enableElement(s):l.error(function(){i.enableElement(s)}),!1}return s.data("method")?(i.handleMethod(s),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return s===!1?i.enableFormElement(n):s.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var s,r,o=t(this),a=o.data("remote")!==e;if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")==e&&(s=i.blankInputs(o,i.requiredInputSelector),s&&i.fire(o,"ajax:aborted:required",[s])))return i.stopEverything(n);if(a){if(r=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),r=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(t){var e,i,n,s=t.event,r={_:0},o=0;e=s.special.throttledresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(a,l){var c=this,u=arguments;i=!0,n||(setInterval(function(){o++,(o>e.threshold&&i||l)&&(a.type="throttledresize",s.dispatch.apply(c,u),i=!1,o=0),o>9&&(t(r).stop(),n=!1,o=0)},30),n=!0)},threshold:0}}(jQuery),function(t){function e(t){return"object"==typeof t?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return e;var n=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},t.fn.scrollTo=function(n,s,r){return"object"==typeof s&&(r=s,s=0),"function"==typeof r&&(r={onAfter:r}),"max"==n&&(n=9e9),r=t.extend({},i.defaults,r),s=s||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(s/=2),r.offset=e(r.offset),r.over=e(r.over),this._scrollable().each(function(){function o(t){c.animate(h,s,r.easing,t&&function(){t.call(this,n,r)})}if(null!=n){var a,l=this,c=t(l),u=n,h={},d=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=e(u);break}if(u=t(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=t(u)).offset())}t.each(r.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",s=n.toLowerCase(),f="scroll"+n,p=l[f],m=i.max(l,e);if(a)h[f]=a[s]+(d?0:p-c.offset()[s]),r.margin&&(h[f]-=parseInt(u.css("margin"+n))||0,h[f]-=parseInt(u.css("border"+n+"Width"))||0),h[f]+=r.offset[s]||0,r.over[s]&&(h[f]+=u["x"==e?"width":"height"]()*r.over[s]);else{var g=u[s];h[f]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}r.limit&&/^\d+$/.test(h[f])&&(h[f]=h[f]<=0?0:Math.min(h[f],m)),!t&&r.queue&&(p!=h[f]&&o(r.onAfterFirst),delete h[f])}),o(r.onAfter)}}).end()},i.max=function(e,i){var n="x"==i?"Width":"Height",s="scroll"+n;if(!t(e).is("html,body"))return e[s]-t(e)[n.toLowerCase()]();var r="client"+n,o=e.ownerDocument.documentElement,a=e.ownerDocument.body;return Math.max(o[s],a[s])-Math.min(o[r],a[r])}}(jQuery),function(){function t(e,i,n){var s=t.resolve(e);if(null==s){n=n||e,i=i||"root";var r=new Error('Failed to require "'+n+'" from "'+i+'"');throw r.path=n,r.parent=i,r.require=!0,r}var o=t.modules[s];if(!o._resolving&&!o.exports){var a={};a.exports={},a.client=a.component=!0,o._resolving=!0,o.call(this,a.exports,t.relative(s),a),delete o._resolving,o.exports=a.exports}return o.exports}t.modules={},t.aliases={},t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var i=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],n=0;n<i.length;n++){var e=i[n];if(t.modules.hasOwnProperty(e))return e;if(t.aliases.hasOwnProperty(e))return t.aliases[e]}},t.normalize=function(t,e){var i=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var n=0;n<e.length;++n)".."==e[n]?t.pop():"."!=e[n]&&""!=e[n]&&i.push(e[n]);return t.concat(i).join("/")},t.register=function(e,i){t.modules[e]=i},t.alias=function(e,i){if(!t.modules.hasOwnProperty(e))throw new Error('Failed to alias "'+e+'", it does not exist');t.aliases[i]=e},t.relative=function(e){function i(t,e){for(var i=t.length;i--;)if(t[i]===e)return i;return-1}function n(i){var s=n.resolve(i);return t(s,e,i)}var s=t.normalize(e,"..");return n.resolve=function(n){var r=n.charAt(0);if("/"==r)return n.slice(1);if("."==r)return t.normalize(s,n);var o=e.split("/"),a=i(o,"deps")+1;return a||(a=0),n=o.slice(0,a+1).join("/")+"/deps/"+n},n.exists=function(e){return t.modules.hasOwnProperty(n.resolve(e))},n},t.register("component-classes/index.js",function(t,e,i){function n(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var s=e("indexof"),r=/\s+/,o=Object.prototype.toString;i.exports=function(t){return new n(t)},n.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),i=s(e,t);return~i||e.push(t),this.el.className=e.join(" "),this},n.prototype.remove=function(t){if("[object RegExp]"==o.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),i=s(e,t);return~i&&e.splice(i,1),this.el.className=e.join(" "),this},n.prototype.removeMatching=function(t){for(var e=this.array(),i=0;i<e.length;i++)t.test(e[i])&&this.remove(e[i]);return this},n.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},n.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,""),e=t.split(r);return""===e[0]&&e.shift(),e},n.prototype.has=n.prototype.contains=function(t){return this.list?this.list.contains(t):!!~s(this.array(),t)}}),t.register("segmentio-extend/index.js",function(t,e,i){i.exports=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=0;e=i[n];n++)if(e)for(var s in e)t[s]=e[s];return t}}),t.register("component-indexof/index.js",function(t,e,i){i.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}}),t.register("component-event/index.js",function(t){var e=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",n="addEventListener"!==e?"on":"";t.bind=function(t,i,s,r){return t[e](n+i,s,r||!1),s},t.unbind=function(t,e,s,r){return t[i](n+e,s,r||!1),s}}),t.register("timoxley-to-array/index.js",function(t,e,i){function n(t){return"[object Array]"===Object.prototype.toString.call(t)}i.exports=function(t){if("undefined"==typeof t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(n(t))return t;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var e=[],i=0;i<t.length;i++)(Object.prototype.hasOwnProperty.call(t,i)||i in t)&&e.push(t[i]);return e.length?e:[]}}),t.register("javve-events/index.js",function(t,e){var i=e("event"),n=e("to-array");t.bind=function(t,e,s,r){t=n(t);for(var o=0;o<t.length;o++)i.bind(t[o],e,s,r)},t.unbind=function(t,e,s,r){t=n(t);for(var o=0;o<t.length;o++)i.unbind(t[o],e,s,r)}}),t.register("javve-get-by-class/index.js",function(t,e,i){i.exports=function(){return document.getElementsByClassName?function(t,e,i){return i?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:document.querySelector?function(t,e,i){return e="."+e,i?t.querySelector(e):t.querySelectorAll(e)}:function(t,e,i){var n=[],s="*";null==t&&(t=document);for(var r=t.getElementsByTagName(s),o=r.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),l=0,c=0;o>l;l++)if(a.test(r[l].className)){if(i)return r[l];n[c]=r[l],c++}return n}}()}),t.register("javve-get-attribute/index.js",function(t,e,i){i.exports=function(t,e){var i=t.getAttribute&&t.getAttribute(e)||null;if(!i)for(var n=t.attributes,s=n.length,r=0;s>r;r++)void 0!==e[r]&&e[r].nodeName===e&&(i=e[r].nodeValue);return i}}),t.register("javve-natural-sort/index.js",function(t,e,i){i.exports=function(t,e,i){var n,s,r=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,i=i||{},u=function(t){return i.insensitive&&(""+t).toLowerCase()||""+t},h=u(t).replace(o,"")||"",d=u(e).replace(o,"")||"",f=h.replace(r,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),p=d.replace(r,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),m=parseInt(h.match(l))||1!=f.length&&h.match(a)&&Date.parse(h),g=parseInt(d.match(l))||m&&d.match(a)&&Date.parse(d)||null,v=i.desc?-1:1;if(g){if(g>m)return-1*v;if(m>g)return 1*v}for(var y=0,_=Math.max(f.length,p.length);_>y;y++){if(n=!(f[y]||"").match(c)&&parseFloat(f[y])||f[y]||0,s=!(p[y]||"").match(c)&&parseFloat(p[y])||p[y]||0,isNaN(n)!==isNaN(s))return isNaN(n)?1:-1;if(typeof n!=typeof s&&(n+="",s+=""),s>n)return-1*v;if(n>s)return 1*v}return 0}}),t.register("javve-to-string/index.js",function(t,e,i){i.exports=function(t){return t=void 0===t?"":t,t=null===t?"":t,t=t.toString()}}),t.register("component-type/index.js",function(t,e,i){var n=Object.prototype.toString;i.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":typeof t.valueOf()}}),t.register("list.js/index.js",function(t,e,i){!function(t,n){"use strict";var s=t.document,r=e("get-by-class"),o=e("extend"),a=e("indexof"),l=function(t,i,l){var c,u=this,h=e("./src/item")(u),d=e("./src/add-async")(u),f=e("./src/parse")(u);c={start:function(){u.listClass="list",u.searchClass="search",u.sortClass="sort",u.page=200,u.i=1,u.items=[],u.visibleItems=[],u.matchingItems=[],u.searched=!1,u.filtered=!1,u.handlers={updated:[]},u.plugins={},u.helpers={getByClass:r,extend:o,indexOf:a},o(u,i),u.listContainer="string"==typeof t?s.getElementById(t):t,u.listContainer&&(u.list=r(u.listContainer,u.listClass,!0),u.templater=e("./src/templater")(u),u.search=e("./src/search")(u),u.filter=e("./src/filter")(u),u.sort=e("./src/sort")(u),this.items(),u.update(),this.plugins())},items:function(){f(u.list),l!==n&&u.add(l)},plugins:function(){for(var t=0;t<u.plugins.length;t++){var e=u.plugins[t];u[e.name]=e,e.init(u)}}},this.add=function(t,e){if(e)return void d(t,e);var i=[],s=!1;t[0]===n&&(t=[t]);for(var r=0,o=t.length;o>r;r++){var a=null;t[r]instanceof h?(a=t[r],a.reload()):(s=u.items.length>u.page,a=new h(t[r],n,s)),u.items.push(a),i.push(a)}return u.update(),i},this.show=function(t,e){return this.i=t,this.page=e,u.update(),u},this.remove=function(t,e,i){for(var n=0,s=0,r=u.items.length;r>s;s++)u.items[s].values()[t]==e&&(u.templater.remove(u.items[s],i),u.items.splice(s,1),r--,s--,n++);return u.update(),n},this.get=function(t,e){for(var i=[],n=0,s=u.items.length;s>n;n++){var r=u.items[n];r.values()[t]==e&&i.push(r)}return i},this.size=function(){return u.items.length},this.clear=function(){return u.templater.clear(),u.items=[],u},this.on=function(t,e){return u.handlers[t].push(e),u},this.off=function(t,e){var i=u.handlers[t],n=a(i,e);return n>-1&&i.splice(n,1),u},this.trigger=function(t){for(var e=u.handlers[t].length;e--;)u.handlers[t][e](u);return u},this.reset={filter:function(){for(var t=u.items,e=t.length;e--;)t[e].filtered=!1;return u},search:function(){for(var t=u.items,e=t.length;e--;)t[e].found=!1;return u}},this.update=function(){var t=u.items,e=t.length;u.visibleItems=[],u.matchingItems=[],u.templater.clear();for(var i=0;e>i;i++)t[i].matching()&&u.matchingItems.length+1>=u.i&&u.visibleItems.length<u.page?(t[i].show(),u.visibleItems.push(t[i]),u.matchingItems.push(t[i])):t[i].matching()?(u.matchingItems.push(t[i]),t[i].hide()):t[i].hide();return u.trigger("updated"),u},c.start()};i.exports=l}(window)}),t.register("list.js/src/search.js",function(t,e,i){var n=e("events"),s=e("get-by-class"),r=e("to-string");i.exports=function(t){var e,i,o,a,l={resetList:function(){t.i=1,t.templater.clear(),a=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?i=t[1]:2==t.length&&"function"==typeof t[1]?a=t[1]:3==t.length&&(i=t[1],a=t[2])},setColumns:function(){i=void 0===i?l.toArray(t.items[0].values()):i},setSearchString:function(t){t=r(t).toLowerCase(),t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),o=t},toArray:function(t){var e=[];for(var i in t)e.push(i);return e}},c={list:function(){for(var e=0,i=t.items.length;i>e;e++)c.item(t.items[e])},item:function(t){t.found=!1;for(var e=0,n=i.length;n>e;e++)if(c.values(t.values(),i[e]))return void(t.found=!0)},values:function(t,i){return!!(t.hasOwnProperty(i)&&(e=r(t[i]).toLowerCase(),""!==o&&e.search(o)>-1))},reset:function(){t.reset.search(),t.searched=!1}},u=function(e){return t.trigger("searchStart"),l.resetList(),l.setSearchString(e),l.setOptions(arguments),l.setColumns(),""===o?c.reset():(t.searched=!0,a?a(o,i):c.list()),t.update(),t.trigger("searchComplete"),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],n.bind(s(t.listContainer,t.searchClass),"keyup",function(e){var i=e.target||e.srcElement,n=""===i.value&&!t.searched;n||u(i.value)}),n.bind(s(t.listContainer,t.searchClass),"input",function(t){var e=t.target||t.srcElement;""===e.value&&u("")}),t.helpers.toString=r,u}}),t.register("list.js/src/sort.js",function(t,e,i){var n=e("natural-sort"),s=e("classes"),r=e("events"),o=e("get-by-class"),a=e("get-attribute");i.exports=function(t){t.sortFunction=t.sortFunction||function(t,e,i){return i.desc="desc"==i.order,n(t.values()[i.valueName],e.values()[i.valueName],i)};var e={els:void 0,clear:function(){for(var t=0,i=e.els.length;i>t;t++)s(e.els[t]).remove("asc"),s(e.els[t]).remove("desc")},getOrder:function(t){var e=a(t,"data-order");return"asc"==e||"desc"==e?e:s(t).has("desc")?"asc":s(t).has("asc")?"desc":"asc"},getInSensitive:function(t,e){var i=a(t,"data-insensitive");"true"===i?e.insensitive=!0:e.insensitive=!1},setOrder:function(t){for(var i=0,n=e.els.length;n>i;i++){var r=e.els[i];if(a(r,"data-sort")===t.valueName){var o=a(r,"data-order");"asc"==o||"desc"==o?o==t.order&&s(r).add(t.order):s(r).add(t.order)}}}},i=function(){t.trigger("sortStart"),options={};var i=arguments[0].currentTarget||arguments[0].srcElement||void 0;i?(options.valueName=a(i,"data-sort"),e.getInSensitive(i,options),options.order=e.getOrder(i)):(options=arguments[1]||options,options.valueName=arguments[0],options.order=options.order||"asc",options.insensitive="undefined"==typeof options.insensitive?!0:options.insensitive),e.clear(),e.setOrder(options),options.sortFunction=options.sortFunction||t.sortFunction,t.items.sort(function(t,e){return options.sortFunction(t,e,options)}),t.update(),t.trigger("sortComplete")};return t.handlers.sortStart=t.handlers.sortStart||[],t.handlers.sortComplete=t.handlers.sortComplete||[],e.els=o(t.listContainer,t.sortClass),r.bind(e.els,"click",i),t.on("searchStart",e.clear),t.on("filterStart",e.clear),t.helpers.classes=s,t.helpers.naturalSort=n,t.helpers.events=r,t.helpers.getAttribute=a,i}}),t.register("list.js/src/item.js",function(t,e,i){i.exports=function(t){return function(e,i,n){var s=this;this._values={},this.found=!1,this.filtered=!1;var r=function(e,i,n){if(void 0===i)n?s.values(e,n):s.values(e);else{s.elm=i;var r=t.templater.get(s,e);s.values(r)}};this.values=function(e,i){if(void 0===e)return s._values;for(var n in e)s._values[n]=e[n];i!==!0&&t.templater.set(s,s.values())},this.show=function(){t.templater.show(s)},this.hide=function(){t.templater.hide(s)},this.matching=function(){return t.filtered&&t.searched&&s.found&&s.filtered||t.filtered&&!t.searched&&s.filtered||!t.filtered&&t.searched&&s.found||!t.filtered&&!t.searched},this.visible=function(){return s.elm.parentNode==t.list},r(e,i,n)}}}),t.register("list.js/src/templater.js",function(t,e,i){var n=e("get-by-class"),s=function(t){function e(e){if(void 0===e){for(var i=t.list.childNodes,n=0,s=i.length;s>n;n++)if(void 0===i[n].data)return i[n];return null}if(-1!==e.indexOf("<")){var r=document.createElement("div");return r.innerHTML=e,r.firstChild}return document.getElementById(t.item)}var i=e(t.item),s=this;this.get=function(t,e){s.create(t);for(var i={},r=0,o=e.length;o>r;r++){var a=n(t.elm,e[r],!0);i[e[r]]=a?a.innerHTML:""}return i},this.set=function(t,e){if(!s.create(t))for(var i in e)if(e.hasOwnProperty(i)){var r=n(t.elm,i,!0);r&&("IMG"===r.tagName&&""!==e[i]?r.src=e[i]:r.innerHTML=e[i])}},this.create=function(t){if(void 0!==t.elm)return!1;var e=i.cloneNode(!0);return e.removeAttribute("id"),t.elm=e,s.set(t,t.values()),!0},this.remove=function(e){t.list.removeChild(e.elm)},this.show=function(e){s.create(e),t.list.appendChild(e.elm)},this.hide=function(e){void 0!==e.elm&&e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.clear=function(){if(t.list.hasChildNodes())for(;t.list.childNodes.length>=1;)t.list.removeChild(t.list.firstChild)}};i.exports=function(t){return new s(t)}}),t.register("list.js/src/filter.js",function(t,e,i){i.exports=function(t){return t.handlers.filterStart=t.handlers.filterStart||[],t.handlers.filterComplete=t.handlers.filterComplete||[],function(e){if(t.trigger("filterStart"),t.i=1,t.reset.filter(),void 0===e)t.filtered=!1;else{t.filtered=!0;for(var i=t.items,n=0,s=i.length;s>n;n++){var r=i[n];e(r)?r.filtered=!0:r.filtered=!1}}return t.update(),t.trigger("filterComplete"),t.visibleItems}}}),t.register("list.js/src/add-async.js",function(t,e,i){i.exports=function(t){return function(e,i,n){var s=e.splice(0,100);n=n||[],n=n.concat(t.add(s)),e.length>0?setTimeout(function(){addAsync(e,i,n)},10):(t.update(),i(n))}}}),t.register("list.js/src/parse.js",function(t,e,i){i.exports=function(t){var i=e("./item")(t),n=function(t){for(var e=t.childNodes,i=[],n=0,s=e.length;s>n;n++)void 0===e[n].data&&i.push(e[n]);return i},s=function(e,n){for(var s=0,r=e.length;r>s;s++)t.items.push(new i(n,e[s]))},r=function(e,i){var n=e.splice(0,100);s(n,i),e.length>0?setTimeout(function(){init.items.indexAsync(e,i)},10):t.update()};return function(){var e=n(t.list),i=t.valueNames;t.indexAsync?r(e,i):s(e,i)}}}),t.alias("component-classes/index.js","list.js/deps/classes/index.js"),t.alias("component-classes/index.js","classes/index.js"),t.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),t.alias("segmentio-extend/index.js","list.js/deps/extend/index.js"),t.alias("segmentio-extend/index.js","extend/index.js"),t.alias("component-indexof/index.js","list.js/deps/indexof/index.js"),t.alias("component-indexof/index.js","indexof/index.js"),t.alias("javve-events/index.js","list.js/deps/events/index.js"),t.alias("javve-events/index.js","events/index.js"),t.alias("component-event/index.js","javve-events/deps/event/index.js"),t.alias("timoxley-to-array/index.js","javve-events/deps/to-array/index.js"),t.alias("javve-get-by-class/index.js","list.js/deps/get-by-class/index.js"),t.alias("javve-get-by-class/index.js","get-by-class/index.js"),t.alias("javve-get-attribute/index.js","list.js/deps/get-attribute/index.js"),t.alias("javve-get-attribute/index.js","get-attribute/index.js"),t.alias("javve-natural-sort/index.js","list.js/deps/natural-sort/index.js"),t.alias("javve-natural-sort/index.js","natural-sort/index.js"),t.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),t.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),t.alias("javve-to-string/index.js","to-string/index.js"),t.alias("javve-to-string/index.js","javve-to-string/index.js"),t.alias("component-type/index.js","list.js/deps/type/index.js"),t.alias("component-type/index.js","type/index.js"),"object"==typeof exports?module.exports=t("list.js"):"function"==typeof define&&define.amd?define(function(){return t("list.js")}):this.List=t("list.js")}(),function(){"use strict";function t(t,e){t&&(this.el=t,this.container=e&&e.container,this.reRender=e&&e.reRender)}function e(e){e.style.display="none",t.r=e.offsetTop,e.style.display=""}function i(t,e){if(t)for(var i=e&&e.display,n=t.parentNode.children,s=h.call(n,t),r=s+1,o=n.length;o>r;r++)n[r].style.display=i}function n(t,e){var i=t.getClientRects(),n=0;return u(i,function(t){n+=s(t.height,e)}),n}function s(t,e){return Math.floor(t/e)}function r(){var t=document.createElement("test"),e={},i={Webkit:["WebkitColumnCount","WebkitColumnGap"],Moz:["MozColumnCount","MozColumnGap"],ms:["msColumnCount","msColumnGap"],"":["columnCount","columnGap"]};for(var n in i)i[n][0]in t.style&&(e.columnCount=i[n][0],e.columnGap=i[n][1],e[n.toLowerCase()]=!0);return e}function o(t){return parseInt(t[g.columnCount],10)||1}function a(t){return parseInt(t[g.columnGap],10)||0}function l(t){var e=parseInt(t.lineHeight,10);if(!e)throw Error(m[0]);return e}function c(t){return[t.offsetWidth,t.offsetHeight]}function u(t,e){for(var i=0,n=t.length;n>i&&!e(t[i]);i++);}var h=Array.prototype.indexOf,d=window.getComputedStyle,f="ellipsis-overflowing-child",p="ellipsis-set",m=["The ellipsis container must have line-height set on it"],g=r();t.prototype.calc=function(){if(!this.el)return this;var t=d(this.el),e=c(this.el);return this.columnHeight=e[1],this.columnCount=o(t),this.columnGap=a(t),this.columnWidth=e[0]/this.columnCount,this.lineHeight=l(t),this.deltaHeight=e[1]%this.lineHeight,this.linesPerColumn=Math.floor(this.columnHeight/this.lineHeight),this.totalLines=this.linesPerColumn*this.columnCount,!this.deltaHeight&&this.columnCount>1&&(this.el.style.height=this.columnHeight+"px"),this.child=this.getOverflowingChild(),this},t.prototype.set=function(){return this.el&&this.child?(this.clampChild(),i(this.child.el,{display:"none"}),this.markContainer(),this):this},t.prototype.unset=function(){return this.el&&this.child?(this.el.style.height="",this.unclampChild(this.child),i(this.child.el,{display:""}),this.unmarkContainer(),this.child=null,this):this},t.prototype.destroy=function(){return this.el=this.child=this.container=null,this},t.prototype.getOverflowingChild=function(){var t=this,e={},i=0;return u(this.el.children,function(n){var s,r,o,a=Math.floor(i/t.linesPerColumn)||0;return i+=s=t.getLineCount(n),i>=t.totalLines?(r=i-t.totalLines,o=s-r,e.el=n,e.clampedLines=o,e.clampedHeight=e.clampedLines*t.lineHeight,e.visibleColumnSpan=t.columnCount-a,e.gutterSpan=e.visibleColumnSpan-1,e.applyTopMargin=t.shouldApplyTopMargin(e),g.webkit&&e.clampedLines>1&&(e.clampedHeight+=e.gutterSpan*t.deltaHeight),e):void 0}),e},t.prototype.getLineCount=function(t){return t.offsetWidth>this.columnWidth?n(t,this.lineHeight):s(t.clientHeight,this.lineHeight)},t.prototype.markContainer=function(){this.container&&(this.container.classList.add(p),this.reRender&&e(this.container))},t.prototype.unmarkContainer=function(){this.container&&(this.container.classList.remove(p),this.reRender&&e(this.container))},t.prototype.shouldApplyTopMargin=function(t){var e=t.el;return!g.webkit||1===this.columnCount||3>=this.deltaHeight||!e.previousElementSibling?void 0:0===e.offsetTop||e.offsetTop===this.columnHeight},t.prototype.clampChild=function(){var t=this.child;t&&t.el&&(t.el.style.height=t.clampedHeight+"px",g.webkit&&(t.el.style.webkitLineClamp=t.clampedLines,t.el.style.display="-webkit-box",t.el.style.webkitBoxOrient="vertical"),this.shouldHideOverflow()&&(t.el.style.overflow="hidden"),t.applyTopMargin&&(t.el.style.marginTop="2em"),t.el.classList.add(f),g.webkit||(t.el.style.position="relative",t.helper=t.el.appendChild(this.helperElement())))},t.prototype.unclampChild=function(t){t&&t.el&&(t.el.style.display="",t.el.style.height="",t.el.style.webkitLineClamp="",t.el.style.webkitBoxOrient="",t.el.style.marginTop="",t.el.style.overflow="",t.el.classList.remove(f),t.helper&&t.helper.parentNode.removeChild(t.helper))},t.prototype.helperElement=function(){var t,e,i=document.createElement("span"),n=this.child.visibleColumnSpan-1;return i.className="ellipsis-helper",i.style.display="block",i.style.height=this.lineHeight+"px",i.style.width="5em",i.style.position="absolute",i.style.bottom=0,i.style.right=0,g.moz&&n&&(t=-(100*n),e=-(n*this.columnGap),i.style.right=t+"%",i.style.marginRight=e+"px",i.style.marginBottom=this.deltaHeight+"px"),i},t.prototype.shouldHideOverflow=function(){var t=this.columnCount>1;return this.columnHeight<this.lineHeight?!0:!t},"object"==typeof exports?(module.exports=function(e,i){return new t(e,i)},module.exports.Ellipsis=t):"function"==typeof define&&define.amd?define(function(){return t}):window.Ellipsis=t}(),!function(){"use strict";function t(e,n){function s(t,e){return function(){return t.apply(e,arguments)}}var r;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,c=o.length;c>l;l++)a[o[l]]=s(a[o[l]],a);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var s=Node.prototype.removeEventListener;"click"===t?s.call(e,t,i.hijacked||i,n):s.call(e,t,i,n)},e.addEventListener=function(t,i,n){var s=Node.prototype.addEventListener;"click"===t?s.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t);
}),n):s.call(e,t,i,n)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,s=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=n&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],n){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!s){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,o,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=u.tagName.toLowerCase(),"label"===a){if(e=this.findControl(u)){if(this.focus(u),i)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-o>100||n&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),n&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return n&&!s&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:!t.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,s,r;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(s=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),s[1]>=10&&s[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction)},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(t,e,i){var n={required:"The %s field is required.",matches:"The %s field does not match the %s field.",valid_email:"The %s field must contain a valid email address.",valid_emails:"The %s field must contain all valid email addresses.",min_length:"The %s field must be at least %s characters in length.",max_length:"The %s field must not exceed %s characters in length.",exact_length:"The %s field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a vaild credit card number",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL."},s=function(){},r=/^(.+?)\[(.+)\]$/,o=/^[0-9]+$/,a=/^\-?[0-9]+$/,l=/^\-?[0-9]*\.?[0-9]+$/,c=/^[a-zA-Z0-9.!#$%&amp;'*+\-\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*$/,u=/^[a-z]+$/i,h=/^[a-z0-9]+$/i,d=/^[a-z0-9_\-]+$/i,f=/^[0-9]+$/i,p=/^[1-9][0-9]*$/i,m=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,g=/[^a-zA-Z0-9\/\+=]/i,v=/^[\d\-\s]+$/,y=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,_=function(t,n,r){for(this.callback=r||s,this.errors=[],this.fields={},this.form=e.forms[t]||{},this.messages={},this.handlers={},t=0,r=n.length;r>t;t++){var o=n[t];o.name&&o.rules&&(this.fields[o.name]={name:o.name,display:o.display||o.name,rules:o.rules,id:null,type:null,value:null,checked:null})}var a=this.form.onsubmit,l=this;this.form.onsubmit=function(t){try{return l._validateForm(t)&&(a===i||a())}catch(e){}}},b=function(t,e){var i;if(!(0<t.length&&"radio"===t[0].type))return t[e];for(i=0;i<t.length;i++)if(t[i].checked)return t[i][e]};_.prototype.setMessage=function(t,e){return this.messages[t]=e,this},_.prototype.registerCallback=function(t,e){return t&&"string"==typeof t&&e&&"function"==typeof e&&(this.handlers[t]=e),this},_.prototype._validateForm=function(t){this.errors=[];for(var e in this.fields)if(this.fields.hasOwnProperty(e)){var n=this.fields[e]||{},s=this.form[n.name];s&&s!==i&&(n.id=b(s,"id"),n.type=0<s.length?s[0].type:s.type,n.value=b(s,"value"),n.checked=b(s,"checked"),this._validateField(n))}return"function"==typeof this.callback&&this.callback(this.errors,t),0<this.errors.length&&(t&&t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)),!0},_.prototype._validateField=function(t){var e=t.rules.split("|");if(-1!==t.rules.indexOf("required")||t.value&&""!==t.value&&t.value!==i||-1!==t.rules.indexOf("callback_")&&null!==t.value)for(var s=0,o=e.length;o>s;s++){var a=e[s],l=null,c=!1,u=r.exec(a);if(u&&(a=u[1],l=u[2]),"function"==typeof this._hooks[a]?this._hooks[a].apply(this,[t,l])||(c=!0):"callback_"===a.substring(0,9)&&(a=a.substring(9,a.length),"function"==typeof this.handlers[a]&&!1===this.handlers[a].apply(this,[t.value])&&(c=!0)),c){e=this.messages[a]||n[a],s="An error has occurred with the "+t.display+" field.",e&&(s=e.replace("%s",t.display),l&&(s=s.replace("%s",this.fields[l]?this.fields[l].display:l))),this.errors.push({id:t.id,name:t.name,message:s,rule:a});break}}},_.prototype._hooks={required:function(t){var e=t.value;return"checkbox"===t.type||"radio"===t.type?!0===t.checked:null!==e&&""!==e},matches:function(t,e){var i=this.form[e];return i?t.value===i.value:!1},valid_email:function(t){return c.test(t.value)},valid_emails:function(t){t=t.value.split(",");for(var e=0;e<t.length;e++)if(!c.test(t[e]))return!1;return!0},min_length:function(t,e){return o.test(e)?t.value.length>=parseInt(e,10):!1},max_length:function(t,e){return o.test(e)?t.value.length<=parseInt(e,10):!1},exact_length:function(t,e){return o.test(e)?t.value.length===parseInt(e,10):!1},greater_than:function(t,e){return l.test(t.value)?parseFloat(t.value)>parseFloat(e):!1},less_than:function(t,e){return l.test(t.value)?parseFloat(t.value)<parseFloat(e):!1},alpha:function(t){return u.test(t.value)},alpha_numeric:function(t){return h.test(t.value)},alpha_dash:function(t){return d.test(t.value)},numeric:function(t){return l.test(t.value)},integer:function(t){return a.test(t.value)},decimal:function(t){return l.test(t.value)},is_natural:function(t){return f.test(t.value)},is_natural_no_zero:function(t){return p.test(t.value)},valid_ip:function(t){return m.test(t.value)},valid_base64:function(t){return g.test(t.value)},valid_url:function(t){return y.test(t.value)},valid_credit_card:function(t){if(!v.test(t.value))return!1;var e=0,i=0,n=!1;t=t.value.replace(/\D/g,"");for(var s=t.length-1;s>=0;s--)i=t.charAt(s),i=parseInt(i,10),n&&9<(i*=2)&&(i-=9),e+=i,n=!n;return 0===e%10},is_file_type:function(t,e){if("file"!==t.type)return!0;var i=t.value.substr(t.value.lastIndexOf(".")+1),n=e.split(","),s=!1,r=0,o=n.length;for(r;o>r;r++)i==n[r]&&(s=!0);return s}},t.FormValidator=_}(window,document),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),r=t.childNodes,o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(this.add_option(i,e,t.disabled));return o},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var i,n,s,r,o;for(n=new t,o=e.childNodes,s=0,r=o.length;r>s;s++)i=o[s],n.add_node(i);return n.parsed},this.SelectParser=t}.call(this),function(){var t,e;e=this,t=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.choices_count=function(){var t,e,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,e=0,i=n.length;i>e;e++)t=n[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,i;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*t.length),e=t.substring(i,i+1)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.browser_is_supported=function(){var t;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(t=document.documentMode)&&t>=8:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),e.AbstractChosen=t}.call(this),function(){var t,e,i,n,s={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;return n=t(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new e(this,i))}):this}}),e=function(e){function s(){return n=s.__super__.constructor.apply(this,arguments)}return r(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var e,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),i={id:this.container_id,"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){t.container_mousedown(e)}),this.container.mouseup(function(e){t.container_mouseup(e)}),this.container.mouseenter(function(e){t.mouse_enter(e)}),this.container.mouseleave(function(e){t.mouse_leave(e)}),this.search_results.mouseup(function(e){t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel DOMMouseScroll",function(e){t.search_results_mousewheel(e)}),this.form_field_jq.bind("liszt:updated",function(e){t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){t.container_mousedown(e)}),this.search_field.blur(function(e){t.input_blur(e)}),this.search_field.keyup(function(e){t.keyup_checker(e)}),this.search_field.keydown(function(e){t.keydown_checker(e)}),this.search_field.focus(function(e){t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){t.choices_click(e)}):this.container.click(function(t){t.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?!this.is_multiple&&e&&(t(e.target)[0]===this.selected_item[0]||t(e.target).parents("a.chzn-single").length)&&(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e,i,n;return e=-(null!=(i=t.originalEvent)?i.wheelDelta:void 0)||(null!=(n=t.originialEvent)?n.detail:void 0),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){var t,e,n,s,r;for(this.parsing=!0,this.selected_option_count=null,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices_count()>0?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",r=this.results_data,n=0,s=r.length;s>n;n++)e=r[n],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},s.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},s.prototype.result_do_highlight=function(t){var e,i,n,s,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),s=n+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(r>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},s.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},s.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(e){var i,n,s=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(n=t("<a />",{href:"#","class":"search-choice-close",rel:e.array_index}),n.click(function(t){return s.choice_destroy_link_click(t)}),i.append(n)),this.search_container.before(i)},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){return this.result_deselect(t.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i,n,s;return this.result_highlight?(e=this.result_highlight,i=e.attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),s=i.substr(i.lastIndexOf("_")+1),n=this.results_data[s],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!t.metaKey&&!t.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},s.prototype.result_activate=function(t){return t.addClass("active-result")},s.prototype.result_deactivate=function(t){return t.removeClass("active-result")},s.prototype.result_deselect=function(e){var i,n;return n=this.results_data[e],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,this.selected_option_count=null,i=t("#"+this.container_id+"_o_"+e),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chzn-single-with-deselect")):void 0},s.prototype.winnow_results=function(){var e,i,n,s,r,o,a,l,c,u,h,d,f,p,m,g,v,y;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",r=new RegExp(o+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,p=0,g=y.length;g>p;p++)if(i=y[p],!i.disabled&&!i.empty)if(i.group)t("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(e=!1,l=i.dom_id,a=t("#"+l),r.test(i.html))e=!0,c+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(s=i.html.replace(/\[|\]/g,"").split(" "),s.length))for(m=0,v=s.length;v>m;m++)n=s[m],r.test(n)&&(e=!0,c+=1);e?(u.length?(h=i.html.search(f),d=i.html.substr(0,h+u.length)+"</em>"+i.html.substr(h+u.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=i.html,a.html(d),this.result_activate(a),null!=i.group_array_index&&t("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&u.length?this.no_results(u):this.winnow_results_set_highlight()},s.prototype.winnow_results_clear=function(){var e,i,n,s,r;
for(this.search_field.val(""),i=this.search_results.find("li"),r=[],n=0,s=i.length;s>n;n++)e=i[n],e=t(e),e.hasClass("group-result")?r.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?r.push(void 0):r.push(this.result_activate(e));return r},s.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},s.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,n,s,r,o,a,l;if(this.is_multiple){for(i=0,o=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=r.length;l>a;a++)n=r[a],s+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),o=e.width()+25,e.remove(),this.f_width||(this.f_width=this.container.outerWidth()),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"})}},s.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},s}(AbstractChosen),i.Chosen=e}.call(this),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,s,r){var o;if("undefined"!=typeof document){if(arguments.length>1){if(r=t({path:"/"},n.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{o=JSON.stringify(s),/^[\{\[]/.test(o)&&(s=o)}catch(l){}return s=i.write?i.write(s,e):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",s,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}e||(o={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,h=0;h<c.length;h++){var d=c[h].split("="),f=d.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var p=d[0].replace(u,decodeURIComponent);if(f=i.read?i.read(f,p):i(f,p)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(l){}if(e===p){o=f;break}e||(o[p]=f)}catch(l){}}return o}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),function(t){var e=function(e,i){"use strict";var n=t.document.getElementsByTagName("script")[0],s=t.document.createElement("script");return s.src=e,s.async=!0,n.parentNode.insertBefore(s,n),i&&"function"==typeof i&&(s.onload=i),s};"undefined"!=typeof module?module.exports=e:t.loadJS=e}("undefined"!=typeof global?global:this),function(){var t,e,i,n,s,r,o,a,l;t=null,n=!1,r=null,l=null,window.$scrollable=null,window.navIsLockable=!1,a=document.querySelector(".nag"),$(function(){var i,s,l,c,u,h,d,f,p,m,g,v,y,_,b,w,x,C,k;for(window.$body=$("body"),window.$document=$(document),window.$window=$(window),window.$scrollable=$(".scrollable-wrap"),f=document.getElementsByClassName("site-footer-anchor")[0],p=null,k=null,C={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},window.transEndEventName=C[Modernizr.prefixed("transition")],setMultiLineEllipsis(),a&&!Cookies.get("newsletter_nag_hidden")&&(loadJS("/assets/components/newsletter-nag.js"),a.classList.remove("is-hidden")),h=document.getElementsByClassName("js-fastclick"),d=0;d<h.length;)FastClick.attach(h[d]),d++;return $(".js-delayed-slide").delay(3e3).slideUp(),$document.on("click",".autoselect",function(){return $(this).select()}),$document.on("click",".embed-share",function(){var t,e,i,n,s,r,o;if(!this.classList.contains("js-ignore"))return r=this.getAttribute("href"),trackGoogleEvent("Share button","Clicked",r.split(".com")[0]),o=650,t=500,e=(screen.width-o)/2,s=(screen.height-t)/2,n="width="+o+", height="+t,n+=", top="+s+", left="+e,n+=", directories=no",n+=", location=no",n+=", menubar=no",n+=", resizable=no",n+=", scrollbars=no",n+=", status=no",n+=", toolbar=no",i=window.open(r,"Share",n),window.focus&&i.focus(),!1}),window.validators=[],$("form").each(function(t){var e,i;return e=[],i=this,i.getAttribute("name")||i.setAttribute("name","valForm"+t),$(i).find("input, textarea, select").each(function(){var t,i;return t=this,i="",t.classList.contains("val-required")&&(i+="required|"),t.classList.contains("val-alpha_dash")&&(i+="alpha_dash|"),t.classList.contains("val-email")&&(i+="valid_email|"),""!==i?(i=i.substring(0,i.length-1),e.push({name:t.getAttribute("name"),rules:i})):void 0}),validators.push(new FormValidator(i.getAttribute("name"),e,function(t,e){var n,s,r,o,a,l,c;if(l=i.getElementsByClassName("messages")[0],s=$(i),c=!0,s.find(".is-invalid").removeClass("is-invalid"),i.classList.remove("has-errors"),l.classList.add("is-hidden"),l.innerHTML="",t.length>0)for(i.classList.add("has-errors"),o=0;o<t.length;)r=o,o++,void 0!==t[r]&&(a=t[r].message,n=s.find('*[name="'+t[r].name+'"]'),n.parents(".is-hidden").length||($(l).append('<p class="ss-alert">'+a+"</p>"),n.addClass("is-invalid"),c=!1));return i.classList.contains("js-username-taken")&&(s.find(".val-username-uniq")[0].classList.add("is-invalid"),$(l).append('<p class="ss-alert">Username already taken.</p>'),c=!1),c?!0:(e.preventDefault(),e.stopPropagation(),l.classList.add("error-messages"),l.classList.remove("is-hidden"),s.find(".save-changes").prop("disabled",!1),!1)}))}),$document.on("keyup",".val-username-uniq",e(function(){var t,e;return e=this,t=$(e).closest("form")[0],e.value.length>0?e.value.indexOf(" ")>0?(e.classList.add("is-invalid"),t.classList.remove("js-username-taken")):(e.classList.add("is-loading"),$.ajax({type:"POST",url:"/username_check",data:{username:e.value},dataType:"JSON"}).success(function(i){return"taken"===i.status?(e.classList.add("is-invalid"),t.classList.add("js-username-taken")):(e.classList.remove("is-invalid"),t.classList.remove("js-username-taken"))}).always(function(){return e.classList.remove("is-loading")})):void 0},250)),$(".js-init-cm-dropdown").each(function(){var t;return t=$(this),t.wrap('<div class="cm-dropdown" />')}),$(".cm-dropdown, .cm-chosen-field").each(function(){var t,e;return t=this.querySelector("select"),e=t.querySelectorAll("option").length>10,$(t).chosen({allow_single_deselect:!0,disable_search:!e,placeholder_text_single:"Select one"})}),$document.on("change",".dropdown-nav-menu",function(){return window.location=this.value}),$document.on("change",".language-dropdown select, .admin-language-select",function(){var t;return t=updatedQueryString({locale:this.value}),window.location=window.location.pathname+t}),$document.on("change",".js-toggle-option",function(){var t,e;return e=this.getAttribute("data-wrap"),t=this.getAttribute("data-field"),e&&$(e).addClass("is-hidden"),t?$(t).removeClass("is-hidden"):void 0}),$document.on("click",".js-toggle-visibilty",function(){var t;return t=this.getAttribute("data-element"),t?$(t).toggleClass("is-hidden"):void 0}),$(".forgot-password-form").on("submit",function(){return $(this).find(".save-changes").prop("disabled",!0)}),$document.on("click",".site-search-field",function(){return $(this).find("input").focus()}),w={},$(".search-filters .bubble-filter").on("click",function(){var t,e,i;return e=this.getAttribute("data-type"),t=$(".search-filters .is-active")[0],t&&this!==t&&t.classList.remove("is-active"),this.classList.contains("is-active")?delete w.filter:w.filter=e,i=document.getElementById("search-input").value,r=null,b(i,!0),this.classList.toggle("is-active")}),$("#search-input").on("keypress",function(t){return 13===t.keyCode?(t.preventDefault(),b(this.value,!0)):void 0}).on("keyup",e(function(t){var e,i;return e=this,i=[91,16,17,37,38,39,40],i.indexOf(t.keyCode)>=0||t.metaKey||e.value.length<2?void 0:b(e.value)},200)),b=function(t,e){var i,n;return null==e&&(e=!1),t.length&&(t!==r||e)?(r=t,n=document.getElementsByClassName("search-results")[0],i=n.getElementsByClassName("search-results-list")[0],n.classList.remove("is-hidden"),n.classList.add("is-fadein"),i.classList.add("is-loading"),lock_scrollable(),$.ajax({url:"/search/"+encodeURIComponent(t),dataType:"JSON",data:w}).done(function(t){var e,n,s,r,o,a,l,h,d,f,p,m,g;if(a=t.length,o=document.createDocumentFragment(),s=t.events,e=t.chapters,f=t.users,m=t.videos,l=t.tagged,null!=s||null!=e||null!=f||null!=m||null!=l){if(r=0,n=0,p=0,g=0,h=0,null!=s)for(;r<s.length;)o.appendChild(u(s[r],"event")),r++;if(null!=m)for(;g<m.length;)o.appendChild(u(m[g],"video")),g++;if(null!=l)for(;h<l.length;)o.appendChild(u(l[h],"video")),h++;if(null!=e)for(;n<e.length;)o.appendChild(u(e[n],"chapter")),n++;if(null!=f)for(d=0;p<f.length;)f[p].username&&(o.appendChild(u(f[p],"user")),d++),p++;r+n+d+g+h===0&&o.appendChild(c())}else o.appendChild(c());return i.classList.remove("is-loading"),i.innerHTML="",i.appendChild(o)})):void 0},c=function(){var t;return t=document.createElement("p"),t.classList.add("empty-message"),t.innerHTML="No results found",t},u=function(t,e){var i,n,s,r;return r=document.createElement("a"),i=null,s=null,n=null,"event"===e&&(i="/talks/"+t.slug,n="ss-calendar",s=t.name),"video"===e?(i=t.url,n="ss-video",s="",t.speaker_name&&(s+=""+t.speaker_name),t.speaker_name&&t.name&&(s+=" - "),t.name&&(s+=t.name)):"user"===e?(i="/people/"+t.username,n="ss-user",s="",null!=t.firstname&&(s+=""+t.firstname+" "),null!=t.lastname&&(s+=""+t.lastname)):"chapter"===e&&(i="/cities/"+t.abbreviation,n="ss-flag",s=""+t.name),r.setAttribute("href",i),r.classList.add(n),r.innerHTML=s,r},$window.on("load updateParents",function(){return $(".js-update-parent-height").each(function(){var t,e;return t=$(this),e=t.outerHeight(),t.parent().css("minHeight",e)})}),v=document.querySelector(".has-left-sidebar"),v&&v.hasAttribute("data-view")&&(s=v.getAttribute("data-view"),$(".nav-item[data-view='"+s+"'], .profile-stat[data-view='"+s+"']").addClass("is-current"),$(".dropdown-nav-menu .option[data-view='"+s+"']").prop("selected",!0)),l=function(){var e;return t=getCSSVars(),$window.width()<parseInt(t.collapsed_menu_bp)?e=!0:(e&&unlock_scrollable(),e=!1)},l(),$window.on("throttledresize",function(){return l(),setMultiLineEllipsis()}),$document.on("click.collapsible",".collapsible",function(e){return t.collapsible&&!$(e.target).parents(".collapsible-content").length?this.classList.toggle("is-expanded"):void 0}),$document.on("click",".show-embed-options",function(t){var e;return t.preventDefault(),showLoadingOverlay(),e="/quotes/embed/"+$(this).data("quote"),$.get(e,function(t){var e;return e=buildLightbox(t),hideLoadingOverlay()})}),$document.on("click",".embed-video",function(t){var e;return t.preventDefault(),showLoadingOverlay(),e=this.getAttribute("href"),$.get(e,function(t){var e;return hideLoadingOverlay(),e=buildLightbox(t)})}),$document.on("click",".js-delete-quote",function(t){var e;return t.preventDefault(),e=this,window.confirm("Are you sure you want to delete this quote?")?($(e).closest("*[data-quote]").addClass("is-flashing"),$.ajax({url:e.getAttribute("href"),type:"DELETE",dataType:"JSON"}).done(function(t){return t.success&&t.id?$("*[data-quote='"+t.id+"']").slideUp():void 0})):void 0}),$document.on("click",".js-follow-user",function(t){var e;return t.preventDefault(),checkForGuest()?void 0:(e=this,e.classList.add("is-loading"),$.ajax({url:e.getAttribute("href"),type:"GET"}).done(function(t){var e;return e=$('.js-follow-user[data-follow="'+t.user_id+'"]'),e.find(".button-label").html(t.label)}).always(function(){return e.classList.remove("is-loading")}))}),i=$(".add-comment"),i.find("textarea").on("focus",function(){return i[0].classList.add("is-focused")}).on("blur",function(){return""===$(this).val()?i[0].classList.remove("is-focused"):void 0}),i.on("submit",function(){return i[0].classList.add("is-loading"),i.find('input[type="submit"]').attr("disabled","disabled"),i.find(".message-error")[0].classList.add("is-hidden")}),$window.on("commentAdded",function(t,e){return i.find("textarea").val(""),i[0].classList.remove("is-loading"),i.find('input[type="submit"]').removeAttr("disabled"),trackGoogleEvent("Comment","Created",e)}),$window.on("commentFailed",function(t,e){return i[0].classList.remove("is-loading"),i.find('input[type="submit"]').removeAttr("disabled"),e.length?i.find(".message-error").removeClass("is-hidden").html(e[0]):void 0}),$document.on("click",".tab",function(t){var e,i,n;return t.preventDefault(),n=$(this).data("group"),i=$(".tab-group."+n+"-group"),e=$(".tab.is-current, .tab-group.is-current"),$(".js-tab-field").val(n),e.removeClass("is-current"),this.classList.add("is-current"),i.addClass("is-current"),$window.trigger("tabbed"),setMultiLineEllipsis($.makeArray(i),!0),updateURL(updatedQueryString({tab:n},!0))}),$document.on("click",".show-more",function(){return this.parentNode.classList.add("is-hidden"),this.parentNode.parentNode.getElementsByClassName("full-desc")[0].classList.remove("is-hidden")}),$document.on("click",".lightbox-close, .lightbox-overlay",function(){return hideLightbox($(this))}),x=document.getElementsByClassName("static-wrap")[0],document.body.classList.contains("page-home")&&o(),window.checkFooterSticky=function(){var t,e;if(!$body[0].classList.contains("page-home")&&!$body[0].classList.contains("is-iframe")&&f&&k!==window.innerHeight)return t=x.offsetHeight,k=window.innerHeight,p&&p===f.offsetHeight||(p=f.offsetHeight),e=parseFloat(k)-(parseFloat(p)+10)-60,$(x).css("minHeight",e)},$window.on("load throttledresize",function(){return p=null,checkFooterSticky()}),$document.on("click",".site-footer",function(t){var e;if(!$(t.target).parents(".footer-left, .footer-icons").length)return e=document.getElementsByClassName("hood")[0],p=null,$body[0].classList.toggle("is-footer-expanded"),e.classList.toggle("is-expanded"),n||(e.classList.add("is-loading"),n=!0,$.ajax({url:"/hood",type:"GET"}).done(function(t){return e.innerHTML=t,e.classList.remove("is-loading"),o()})),e.classList.contains("is-expanded")?$.scrollTo(e,400,{offset:-65}):void 0}),$document.on("click",".more-activity",function(t){var e,i,n;return t.preventDefault(),i=this,n=this.getAttribute("href"),e=document.getElementsByClassName("hood-activity-feed")[0],e.classList.add("is-loading"),$.ajax({url:n,type:"GET"}).done(function(t){return e.innerHTML=$(t).html(),e.classList.remove("is-loading")})}),$document.on("click",".js-watch-later",function(t){var e;return t.preventDefault(),e=this,checkForGuest()?void 0:(e.classList.add("is-flashing"),$.ajax(e.getAttribute("href"),{type:"PUT",dataType:"json",success:function(t){var i;return i=$('.js-watch-later[data-video="'+t.video_id+'"].ss-icon, .js-watch-later[data-video="'+t.video_id+'"] .ss-icon'),e.classList.remove("is-flashing"),"add"===t.action?i.addClass("cm_bg is-latered"):i.removeClass("cm_bg is-latered"),$('.js-watch-later[data-video="'+t.video_id+'"] .label').html(t.label)}}))}),$document.on("click",".trigger-feature",function(t){var e;return t.preventDefault(),e=this,e.innerHTML="Loading&hellip;",$.ajax({url:e.getAttribute("href"),type:"GET",dataType:"JSON"}).success(function(t){var e,i;return i=t.model,e=t.id,$(".trigger-feature[data-"+i+"='"+e+"']").html(t.action)})}),$(".sidebar-action-like .trigger-like").hover(function(){var t;return t=$(this).parent(),t.find(".action-hover-label").show(),t.find(".like-users").hide()},function(){var t;return t=$(this).parent(),t.find(".action-hover-label").hide(),t.find(".like-users").show()}),$document.on("click",".trigger-like",function(t){var e;return t.preventDefault(),checkForGuest()?void 0:(e=$(this),e[0].classList.add("is-flashing"),$.ajax(e.attr("href"),{type:"PUT",dataType:"json",error:function(){},success:function(t){var i,n,s;return e[0].classList.remove("is-flashing"),s=t.model,n=t[s+"_id"],i="data-"+s+"="+n,"comment"===s?($(".trigger-like["+i+"]").removeClass("is-active"),$(".trigger-like["+i+"].ss-icon, .trigger-like["+i+"] .ss-icon").removeClass("cm_bg"),"clear"!==t.action&&($(".trigger-like["+i+'][data-action="'+t.action+'"]').addClass("is-active"),$(".trigger-like["+i+'][data-action="'+t.action+'"].ss-icon, .trigger-like['+i+'][data-action="'+t.action+'"] .ss-icon').addClass("cm_bg"))):($(".trigger-like["+i+"]").toggleClass("is-active"),$(".trigger-like["+i+"].ss-icon, .trigger-like["+i+"] .ss-icon").toggleClass("cm_bg")),$(".like-count["+i+"]").html(t.count),"video"===s?y(t.action):void 0}},"JSON"))}),y=function(t){var e;return e=$(".sidebar-action-like"),"unlike"===t?e.find(".action-hover-label").html("Like?"):(e.find(".action-hover-label").html("Unlike?"),Modernizr.testAllProps("animation")?makeItRainHearts():void 0)},m=1,g=null,_=!1,window.makeItRainHearts=function(){var t,e;if(!_)return e=Modernizr.testProp("webkitAnimation")?"webkitAnimationEnd":Modernizr.testProp("mozAnimation")?"mozAnimationEnd":"animationEnd",$document.on(e,function(t){return $(t.target).hasClass("raining-heart")?t.target.remove():void 0}),m=1,t=document.body.getAttribute("data-chapter"),_=!0,g=window.setInterval(function(){return rainHeart(t)},50)},window.rainHeart=function(t){var e,i,n;return i=Math.round(2*Math.random())+1,n=Math.round(Math.random()*$window.width()),e=$("<span class='ss-icon ss-standard cm_bg--"+t+" raining-heart raining-heart-"+i+"'>love</span>"),e.css("left",n),$body.append(e),40>m?m++:(m=1,_=!1,window.clearInterval(g))}}),window.ellipsisSet=[],window.setMultiLineEllipsis=function(t,e){var i,n,s,r,o,a,l,c,u;if(null==e&&(e=!1),t||(t=document.getElementsByClassName("js-ellipsis")),e)for(l=[],r=0;r<t.length;){if(c=t[r].getElementsByClassName("js-ellipsis"),c.length)for(n=0;n<c.length;)l.push(c[n]),n++;r++}else l=t;if(l){for(a=0,u=[];a<l.length;)i=l[a],i.getAttribute("data-ellipsis")?(s=ellipsisSet[parseInt(i.getAttribute("data-ellipsis"))],s.unset(),s.calc(),s.set()):(s=new Ellipsis(i,!0),s.calc(),s.set(),o=ellipsisSet.push(s),i.setAttribute("data-ellipsis",o-1)),u.push(a++);return u}},window.showLoadingOverlay=function(){var t;return t=document.createElement("div"),t.classList.add("loading-overlay"),document.body.appendChild(t)},window.hideLoadingOverlay=function(){var t;return t=document.getElementsByClassName("loading-overlay")[0],document.body.removeChild(t)},window.buildLightbox=function(t,e){var i,n;return e||(e=""),$(".lightbox").length?i=$(".lightbox"):(i=$('<section class="lightbox">    <div class="lightbox-overlay"></div>    <div class="lightbox-wrap '+e+'">      <span class="lightbox-close ss-icon ss-standard">close</span>      <div class="lightbox-content"></div>    </div>    </section>'),$body.append(i)),lock_scrollable(),n=i.find(".lightbox-content"),n.html(t),i[0].classList.add("is-visible"),$document.on("keydown.lightbox",function(t){return 27===t.keyCode?hideLightbox(n):void 0}),i},window.hideLightbox=function(t){return unlock_scrollable(),t.parents(".lightbox").remove(),$document.off("keydown.lightbox")},window.checkForGuest=function(){return $body[0].classList.contains("is-guest")?($.get("/guest_message",function(t){return buildLightbox(t,"guest-lightbox")}),!0):!1},window.trackGoogleEvent=function(t,e,i,n){return i||(i=""),n||(n=null),ga("send","event",t,e,i,n)},window.formatTime=function(t){var e,i,n,s,r;return e=Math.round(t),i=Math.floor(t/3600),t%=3600,n=Math.floor(t/60),s=Math.floor(t%60),10>n&&(n="0"+n),10>s&&(s="0"+s),r="",i>0&&(r+=i+":"),r+=n+":",r+=s},window.getSeconds=function(t){var e,i,n,s,r;return"number"==typeof t?t:(r=t.split(":"),s=0,3===r.length?(e=0,i=1,n=2):(i=0,n=1),e&&(s=60*parseFloat(r[e])*60),s+=60*parseFloat(r[i]),s+=parseFloat(r[n]))},window.getParameterByName=function(t){var e,i,n;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i="[\\?&]"+t+"=([^&#]*)",e=new RegExp(i),n=e.exec(window.location.search),null===n?!1:decodeURIComponent(n[1].replace(/\+/g," "))},i=function(){return location.search.replace("?","")},window.getQueryStringObject=function(t){var e,n,s,r,o;if(o=t?t:i(),e=o.split("&"),r={},s=0,""===e[0])return!1;for(;s<e.length;)n=e[s].split("="),r[n[0]]=n[1],s++;return r},window.updatedQueryString=function(t){var e,i,n;n=getQueryStringObject(),i="?",e=void 0;for(e in t)"clear"!==t[e]&&(i+=e+"="+t[e]+"&");if(n){e=void 0;for(e in n)t[e]||(i+=e+"="+n[e]+"&")}return i.slice(0,-1)},window.updateURL=function(t,e){return window.history&&window.history.pushState?(e&&(t=window.location.pathname+t),window.history.replaceState({},document.title,t)):void 0},window.getCSSVars=function(){var t;return t=getComputedStyle(document.body,"::before").content.replace(/'/g,"").replace(/"/g,""),getQueryStringObject(t)},window.lock_scrollable=function(){var t;return t=$("body").scrollTop(),l=t,$scrollable.addClass("is-active").css("top",-t),window.scrollTo(0,0)},window.unlock_scrollable=function(){return $scrollable.removeClass("is-active"),window.scrollTo(0,l)},s=function(t){return!/[^\t\n\r ]/.test(t.data)},window.is_ignorable=function(t){return 8===t.nodeType||3===t.nodeType&&s(t)},window.first_child=function(t){var e;for(e=t.firstChild;e;){if(!is_ignorable(e))return e;e=e.nextSibling}return null},e=function(t,e){var i;return i=null,function(){var n,s;return s=this,n=arguments,clearTimeout(i),i=setTimeout(function(){return t.apply(s,n)},e)}},o=function(){return $.ajax({url:"/happening",type:"GET"}).done(function(t){var e,i;return e=$(".hood-feed-items"),e.html(t),i=e.removeClass("is-loading").find(".iso-wrap").get(0),imagesLoaded(i,function(){return gridInit(i,!0)})})}}.call(this),function(){$(function(){return $document.on("submit",".newsletter-form",function(t){var e,i;return t.preventDefault(),e=this,i=e.classList.contains("newsletter-lb"),e.classList.add("is-loading"),i&&(showLoadingOverlay(),hideLightbox($(e))),$.ajax({url:e.getAttribute("action"),type:"POST",dataType:"JSON",data:$(e).serializeArray()}).done(function(t){var n;return"error"===t.status?alert(t.message):i?hideLoadingOverlay():(n=e.getElementsByTagName("button")[0],null!=t&&"subscribed"===t.status?n.innerHTML="checkmark":n.innerHTML="alert")}).fail(function(t){return console.log(t),alert("Error subscribing to newsletter")}).always(function(){return e?e.classList.remove("is-loading"):void 0})}),$(".js-newsletter-lb").on("click",function(t){return t.preventDefault(),showLoadingOverlay(),$.get(this.getAttribute("href"),function(t){var e;return e=buildLightbox(t,"newsletter-lb-wrap"),e.find(".email-field").focus(),hideLoadingOverlay()})})})}.call(this),function(){var t,e,i,n,s,r,o,a,l,c,u,h,d,f,p;t=$(document),r=!1,e=document.querySelector(".header-chapters-search"),null!=e&&(s=e.querySelector(".header-chapters-list")),f=document.querySelector(".site-nav"),c=document.querySelector(".main-menu"),p=document.querySelector(".user-small-screen-menu"),n=function(){var t,e;return e=this.getAttribute("aria-expanded"),t=i(this),"true"===e?a(this,t):d(this,t)},a=function(t,e){return t.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")},o=function(){var t,e;return t=document.querySelector('.nav__dropdown-toggle[aria-expanded="true"]'),t?(e=i(t),a(t,e)):void 0},d=function(t,e){return o(),t.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false")},i=function(t){return $(t).closest("li").find(".nav__dropdown").get(0)},u=function(t){return navIsLockable&&t?lock_scrollable():unlock_scrollable()},l=function(){return $.ajax({url:"/nearest_chapters_list",type:"POST"}).done(function(t){var i,n;return s.innerHTML=t,r=!0,n={valueNames:["name"]},i=new List(e,n)})},h=function(){return e.classList.add("is-expanded"),u(!0),o(),r||l(),t.on("click.chaptersSearch",function(i){return $(i.target).parents(".header-chapters-search").length?void 0:(e.classList.remove("is-expanded"),u(!1),t.off("click.chaptersSearch"))})},t.on("focus",".header-chapters-search-field",function(){return h()}),t.on("click",".header-chapters-toggle",function(){return e.classList.contains("is-expanded")?(e.classList.remove("is-expanded"),u(!1)):(h(),f.classList.remove("is-visible"))}),t.on("click",".js-toggle-nav",function(){var t,e,i;return i=this.getAttribute("data-menu"),t=$(".main-menu, .user-small-screen-menu"),e=document.getElementsByClassName(i)[0],e.classList.contains("is-visible")?(t.removeClass("is-visible"),f.classList.remove("is-visible"),u(!1)):(t.removeClass("is-visible"),e.classList.add("is-visible"),f.classList.add("is-visible"),u(!0))}),t.on("click",".nav__dropdown-toggle",n),$(".signin-popdown").on("submit",function(){return this.classList.add("is-loading"),$(".sign-in-button").attr("disabled","disabled")}),t.on("ajax:success","#new_user_session",function(e,i){var n,s,r,o,a,l;return n=$(this).closest(".nav__label--user"),o=n.get(0),s=$(o).parent(),i.error?(a=o.getElementsByClassName("login-error-message")[0],a.classList.remove("is-hidden"),a.innerHTML=i.error,o.getElementsByClassName("is-loading")[0].classList.remove("is-loading"),void o.getElementsByClassName("sign-in-button")[0].removeAttribute("disabled")):(l=i.user,o.classList.add("is-falling"),document.body.classList.contains("create-account-page")?window.location=window.location.origin:(document.body.classList.remove("is-guest"),r=Modernizr.testProp("webkitAnimation")?"webkitAnimationEnd.login":Modernizr.testProp("mozAnimation")?"mozAnimationEnd.login":"animationend.login",t.on(r,function(e){var n;return $(e.target).remove(),t.off(r),n=$(i),s.append(n),n.find(".nav__dropdown-toggle--avatar").addClass("is-visible")})))}),t.on("click",".js-toggle-search",function(){var t,e,i;return o(),t=document.getElementsByClassName("site-search-field")[0],e=t.getElementsByTagName("input")[0],this.classList.toggle("is-active"),t.classList.contains("is-expanded")?(t.classList.remove("is-expanded"),$(e).blur(),i=document.getElementsByClassName("search-results")[0],i.classList.add("is-hidden"),unlock_scrollable()):(t.classList.add("is-expanded"),$(e).focus())})}.call(this),function(t){"use strict";function e(t){return RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=n(t,e)?r:s;i(t,e)}var n,s,r;"classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},s=function(t,e){t.classList.add(e)},r=function(t,e){t.classList.remove(e)}):(n=function(t,i){return e(i).test(t.className)},s=function(t,e){n(t,e)||(t.className=t.className+" "+e)},r=function(t,i){t.className=t.className.replace(e(i)," ")});var o={hasClass:n,addClass:s,removeClass:r,toggleClass:i,has:n,add:s,remove:r,toggle:i};"function"==typeof define&&define.amd?define(o):t.classie=o}(window),function(t){"use strict";var e=document.documentElement,i=function(){};e.addEventListener?i=function(t,e,i){t.addEventListener(e,i,!1)}:e.attachEvent&&(i=function(e,i,n){e[i+n]=n.handleEvent?function(){var e=t.event;e.target=e.target||e.srcElement,n.handleEvent.call(n,e)}:function(){var i=t.event;i.target=i.target||i.srcElement,n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var n=function(){};e.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:e.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var s={bind:i,unbind:n};"function"==typeof define&&define.amd?define(s):t.eventie=s}(this),function(t){"use strict";function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==s.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,o=r.length;o>n;n++){var a=r[n];a()}}}function n(n){return n.bind(s,"DOMContentLoaded",i),n.bind(s,"readystatechange",i),n.bind(t,"load",i),e}var s=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?define(["eventie"],n):t.docReady=n(t.eventie)}(this),function(t){"use strict";function e(){}function i(t,e){if(s)return e.indexOf(t);for(var i=e.length;i--;)if(e[i]===t)return i;return-1}var n=e.prototype,s=!!Array.prototype.indexOf;n._getEvents=function(){return this._events||(this._events={})},n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,e){var n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&-1===i(e,s[n])&&s[n].push(e);return this},n.on=n.addListener,n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var n,s,r=this.getListenersAsObject(t);for(s in r)r.hasOwnProperty(s)&&(n=i(e,r[s]),-1!==n&&r[s].splice(n,1));return this},n.off=n.removeListener,n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,r=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.emitEvent=function(t,e){var i,n,s,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(i=r[n].length;i--;)s=e?r[n][i].apply(null,e):r[n][i](),s===!0&&this.removeListener(t,r[n][i]);return this},n.trigger=n.emitEvent,n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},"function"==typeof define&&define.amd?define(function(){return e}):t.EventEmitter=e}(this),function(t){"use strict";function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,s=0,r=i.length;r>s;s++)if(e=i[s]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return e}):t.getStyleProperty=e}(window),
function(t){"use strict";function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=o.length;i>e;e++){var n=o[e];t[n]=0}return t}function n(t){function n(t){if("object"==typeof t&&t.nodeType){var n=r(t);if("none"===n.display)return i();var l={};l.width=t.offsetWidth,l.height=t.offsetHeight;for(var c=l.isBorderBox=!(!a||!n[a]||"border-box"!==n[a]),u=0,h=o.length;h>u;u++){var d=o[u],f=n[d],p=parseFloat(f);l[d]=isNaN(p)?0:p}var m=l.paddingLeft+l.paddingRight,g=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,y=l.marginTop+l.marginBottom,_=l.borderLeftWidth+l.borderRightWidth,b=l.borderTopWidth+l.borderBottomWidth,w=c&&s,x=e(n.width);x!==!1&&(l.width=x+(w?0:m+_));var C=e(n.height);return C!==!1&&(l.height=C+(w?0:g+b)),l.innerWidth=l.width-(m+_),l.innerHeight=l.height-(g+b),l.outerWidth=l.width+v,l.outerHeight=l.height+y,l}}var s,a=t("boxSizing");return function(){if(a){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[a]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=r(t);s=200===e(n.width),i.removeChild(t)}}(),n}var s=document.defaultView,r=s&&s.getComputedStyle?function(t){return s.getComputedStyle(t,null)}:function(t){return t.currentStyle},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property"],n):t.getSize=n(t.getStyleProperty)}(window),function(t){"use strict";function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function s(e,i){t.fn[e]=function(s){if("string"==typeof s){for(var o=n.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[s])&&"_"!==s.charAt(0)){var h=u[s].apply(u,o);if(void 0!==h)return h}else r("no such method '"+s+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+s+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(s),n._init()):(n=new i(this,s),t.data(this,e,n))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){i(e),s(t,e)}}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],i):i(t.jQuery)}(window),function(t,e){"use strict";function i(t,e){return t[a](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function s(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),s=0,r=i.length;r>s;s++)if(i[s]===t)return!0;return!1}function r(t,e){return n(t),i(t,e)}var o,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var s=t[i],r=s+"MatchesSelector";if(e[r])return r}}();if(a){var l=document.createElement("div"),c=i(l,"div");o=c?i:r}else o=s;"function"==typeof define&&define.amd?define(function(){return o}):window.matchesSelector=o}(this,Element.prototype),function(t){"use strict";function e(t){for(var i in e.defaults)this[i]=e.defaults[i];for(i in t)this[i]=t[i]}var i=t.Packery=function(){};i.Rect=e,e.defaults={x:0,y:0,width:0,height:0},e.prototype.contains=function(t){var e=t.width||0,i=t.height||0;return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+e&&this.y+this.height>=t.y+i},e.prototype.overlaps=function(t){var e=this.x+this.width,i=this.y+this.height,n=t.x+t.width,s=t.y+t.height;return n>this.x&&e>t.x&&s>this.y&&i>t.y},e.prototype.getMaximalFreeRects=function(t){if(!this.overlaps(t))return!1;var i,n=[],s=this.x+this.width,r=this.y+this.height,o=t.x+t.width,a=t.y+t.height;return this.y<t.y&&(i=new e({x:this.x,y:this.y,width:this.width,height:t.y-this.y}),n.push(i)),s>o&&(i=new e({x:o,y:this.y,width:s-o,height:this.height}),n.push(i)),r>a&&(i=new e({x:this.x,y:a,width:this.width,height:r-a}),n.push(i)),this.x<t.x&&(i=new e({x:this.x,y:this.y,width:t.x-this.x,height:this.height}),n.push(i)),n},e.prototype.canFit=function(t){return this.width>=t.width&&this.height>=t.height}}(window),function(t){"use strict";function e(t,e){this.width=t||0,this.height=e||0,this.reset()}var i=t.Packery,n=i.Rect;e.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var t=new n({x:0,y:0,width:this.width,height:this.height});this.spaces.push(t)},e.prototype.pack=function(t){for(var e=0,i=this.spaces.length;i>e;e++){var n=this.spaces[e];if(n.canFit(t)){this.placeInSpace(t,n);break}}},e.prototype.placeInSpace=function(t,e){t.x=e.x,t.y=e.y,this.placed(t)},e.prototype.placed=function(t){for(var i=[],n=0,s=this.spaces.length;s>n;n++){var r=this.spaces[n],o=r.getMaximalFreeRects(t);o?i.push.apply(i,o):i.push(r)}this.spaces=i,e.mergeRects(this.spaces),this.spaces.sort(e.spaceSorterTopLeft)},e.mergeRects=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];if(n){var s=t.slice(0);s.splice(e,1);for(var r=0,o=0,a=s.length;a>o;o++){var l=s[o],c=e>o?0:1;n.contains(l)&&(t.splice(o+c-r,1),r++)}}}return t},e.spaceSorterTopLeft=function(t,e){return t.y-e.y||t.x-e.x},e.spaceSorterLeftTop=function(t,e){return t.x-e.x||t.y-e.y},i.Packer=e}(window),function(t){"use strict";function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,e){this.element=t,this.packery=e,this.position={x:0,y:0},this.rect=new s,this.placeRect=new s,this.element.style.position="absolute"}var n=t.Packery,s=n.Rect,r=t.getSize,o=t.getStyleProperty,a=t.EventEmitter,l=document.defaultView,c=l&&l.getComputedStyle?function(t){return l.getComputedStyle(t,null)}:function(t){return t.currentStyle},u=o("transition"),h=o("transform"),d=u&&h,f=!!o("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],m={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",transform:"transform"}[h];e(i.prototype,a.prototype),i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.getSize=function(){this.size=r(this.element)},i.prototype.css=function(t){var e=this.element.style;for(var i in t)e[i]=t[i]},i.prototype.getPosition=function(){var t=c(this.element),e=parseInt(t.left,10),i=parseInt(t.top,10);e=isNaN(e)?0:e,i=isNaN(i)?0:i;var n=this.packery.elementSize;e-=n.paddingLeft,i-=n.paddingTop,this.position.x=e,this.position.y=i};var g=f?function(t,e){return"translate3d( "+t+"px, "+e+"px, 0)"}:function(t,e){return"translate( "+t+"px, "+e+"px)"};i.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(t,10),r=parseInt(e,10),o=s===this.position.x&&r===this.position.y;if(this.setPosition(t,e),o&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-n,c={};c[m]=g(a,l),this.transition(c,this.layoutPosition)},i.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},i.prototype.moveTo=d?i.prototype._transitionTo:i.prototype.goTo,i.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},i.prototype.layoutPosition=function(){var t=this.packery.elementSize;this.css({left:this.position.x+t.paddingLeft+"px",top:this.position.y+t.paddingTop+"px"}),this.emitEvent("layout",[this])},i.prototype._nonTransition=function(t,e){this.css(t),e&&e.call(this)},i.prototype._transition=function(t,e){this.transitionStyle=t;var i=[];for(var n in t)i.push(n);var s={};s[u+"Property"]=i.join(","),s[u+"Duration"]=this.packery.options.transitionDuration,this.element.addEventListener(p,this,!1),e&&this.on("transitionEnd",function(t){return e.call(t),!0}),this.css(s),this.css(t),this.isTransitioning=!0},i.prototype.transition=i.prototype[u?"_transition":"_nonTransition"],i.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},i.prototype.onotransitionend=function(t){this.ontransitionend(t)},i.prototype.ontransitionend=function(t){if(t.target===this.element){this.onTransitionEnd&&(this.onTransitionEnd(),delete this.onTransitionEnd),this.removeTransitionStyles();var e={};for(var i in this.transitionStyle)e[i]="";this.css(e),this.element.removeEventListener(p,this,!1),delete this.transitionStyle,this.isTransitioning=!1,this.emitEvent("transitionEnd",[this])}},i.prototype.removeTransitionStyles=function(){var t={};t[u+"Property"]="",t[u+"Duration"]="",this.css(t)},i.prototype.remove=function(){var t={opacity:0};t[m]="scale(0.001)",this.transition(t,this.removeElem)},i.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},i.prototype.reveal=u?function(){var t={opacity:0};t[m]="scale(0.001)",this.css(t);var e=this.element.offsetHeight,i={opacity:1};i[m]="scale(1)",this.transition(i),e=null}:function(){},i.prototype.destroy=function(){this.css({position:"",left:"",top:""})},i.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&h&&(this.element.style[h]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.isTransitioning=!1,this.didDrag=!1},i.prototype.dragMove=function(t,e){this.didDrag=!0;var i=this.packery.elementSize;t-=i.paddingLeft,e-=i.paddingTop,this.positionPlaceRect(t,e)},i.prototype.dragStop=function(){this.getPosition();var t=this.position.x!==this.placeRect.x,e=this.position.y!==this.placeRect.y;this.needsPositioning=t||e,this.didDrag=!1},i.prototype.positionPlaceRect=function(t,e,i){this.placeRect.x=this.getPlaceRectCoord(t,!0),this.placeRect.y=this.getPlaceRectCoord(e,!1,i)},i.prototype.getPlaceRectCoord=function(t,e,i){var n=e?"Width":"Height",s=this.size["outer"+n],r=this.packery[e?"columnWidth":"rowHeight"],o=this.packery.elementSize["inner"+n];e||(o=Math.max(o,this.packery.maxY),this.packery.rowHeight||(o-=this.packery.gutter));var a;if(r){r+=this.packery.gutter,o+=e?this.packery.gutter:0,t=Math.round(t/r);var l=Math[e?"floor":"ceil"](o/r);l-=Math.ceil(s/r),a=l}else a=o-s;return t=i?t:Math.min(t,a),t*=r||1,Math.max(0,t)},i.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},n.Item=i}(window),function(t){"use strict";function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){var e=[];if("number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function n(t,i){if(!t||!v(t))return void(m&&m.error("bad Packery element: "+t));this.element=t,this.options=e({},this.options),e(this.options,i);var n=++_;this.element.packeryGUID=n,b[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var s=t.Packery,r=s.Rect,o=s.Packer,a=s.Item,l=t.classie,c=t.docReady,u=t.EventEmitter,h=t.eventie,d=t.getSize,f=t.matchesSelector,p=t.document,m=t.console,g=t.jQuery,v="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},y=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},_=0,b={};e(n.prototype,u.prototype),n.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isResizeBound:!0,transitionDuration:"0.4s"},n.prototype._create=function(){this.packer=new o,this.reloadItems(),this.stampedElements=[],this.stamp(this.options.stamped);var t=this.options.containerStyle;e(this.element.style,t),this.options.isResizeBound&&this.bindResize();var i=this;this.handleDraggabilly={dragStart:function(t){i.itemDragStart(t.element)},dragMove:function(t){i.itemDragMove(t.element,t.position.x,t.position.y)},dragEnd:function(t){i.itemDragEnd(t.element)}},this.handleUIDraggable={start:function(t){i.itemDragStart(t.currentTarget)},drag:function(t,e){i.itemDragMove(t.currentTarget,e.position.left,e.position.top)},stop:function(t){i.itemDragEnd(t.currentTarget)}}},n.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},n.prototype._getItems=function(t){for(var e=this._filterFindItemElements(t),i=[],n=0,s=e.length;s>n;n++){var r=e[n],o=new a(r,this);i.push(o)}return i},n.prototype._filterFindItemElements=function(t){t=i(t);var e=this.options.itemSelector;if(!e)return t;for(var n=[],s=0,r=t.length;r>s;s++){var o=t[s];f(o,e)&&n.push(o);for(var a=o.querySelectorAll(e),l=0,c=a.length;c>l;l++)n.push(a[l])}return n},n.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},n.prototype.layout=function(){this._prelayout();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},n.prototype._init=n.prototype.layout,n.prototype._prelayout=function(){this.elementSize=d(this.element),this._getMeasurements(),this.packer.width=this.elementSize.innerWidth+this.gutter,this.packer.height=Number.POSITIVE_INFINITY,this.packer.reset(),this.maxY=0,this.placeStampedElements()},n.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},n.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):v(n)&&(i=n),this[t]=i?d(i)[e]:n):this[t]=0},n.prototype.layoutItems=function(t,e){var i=this._getLayoutItems(t);if(i&&i.length){this._itemsOn(i,"layout",function(){this.emitEvent("layoutComplete",[this,i])});for(var n=0,s=i.length;s>n;n++){var r=i[n];this._packItem(r),this._layoutItem(r,e)}}else this.emitEvent("layoutComplete",[this,[]]);var o=this.elementSize,a=this.maxY-this.gutter;o.isBorderBox&&(a+=o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),a=Math.max(a,0),this.element.style.height=a+"px"},n.prototype._getLayoutItems=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i];s.isIgnored||e.push(s)}return e},n.prototype._packItem=function(t){this._setRectSize(t.element,t.rect),this.packer.pack(t.rect),this._setMaxY(t.rect)},n.prototype._setMaxY=function(t){this.maxY=Math.max(t.y+t.height,this.maxY)},n.prototype._setRectSize=function(t,e){var i=d(t),n=i.outerWidth,s=i.outerHeight,r=this.columnWidth+this.gutter,o=this.rowHeight+this.gutter;n=this.columnWidth?Math.ceil(n/r)*r:n+this.gutter,s=this.rowHeight?Math.ceil(s/o)*o:s+this.gutter,e.width=Math.min(n,this.packer.width),e.height=s},n.prototype._layoutItem=function(t,e){var i=t.rect;e?t.goTo(i.x,i.y):t.moveTo(i.x,i.y)},n.prototype._itemsOn=function(t,e,i){function n(){return s++,s===r&&i.call(o),!0}for(var s=0,r=t.length,o=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,n)}},n.prototype.stamp=function(t){if(t){"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t),this.stampedElements.push.apply(this.stampedElements,t);for(var e=0,n=t.length;n>e;e++){var s=t[e];this.ignore(s)}}},n.prototype.unstamp=function(t){if(t){t=i(t);for(var e=0,n=t.length;n>e;e++){var s=t[e],r=y(this.stampedElements,s);-1!==r&&this.stampedElements.splice(r,1),this.unignore(s)}}},n.prototype.placeStampedElements=function(){if(this.stampedElements&&this.stampedElements.length){this._getBounds();for(var t=0,e=this.stampedElements.length;e>t;t++){var i=this.stampedElements[t];this.placeStamp(i)}}},n.prototype._getBounds=function(){var t=this.element.getBoundingClientRect();this._boundingLeft=t.left+this.elementSize.paddingLeft,this._boundingTop=t.top+this.elementSize.paddingTop},n.prototype.placeStamp=function(t){var e,i=this.getItem(t);e=i&&i.isPlacing?i.placeRect:this._getElementOffsetRect(t),this._setRectSize(t,e),this.packer.placed(e),this._setMaxY(e)},n.prototype._getElementOffsetRect=function(t){var e=t.getBoundingClientRect(),i=new r({x:e.left-this._boundingLeft,y:e.top-this._boundingTop});return i.x-=this.elementSize.borderLeftWidth,i.y-=this.elementSize.borderTopWidth,i},n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.bindResize=function(){this.isResizeBound||(h.bind(t,"resize",this),this.isResizeBound=!0)},n.prototype.unbindResize=function(){h.unbind(t,"resize",this),this.isResizeBound=!1},n.prototype.onresize=function(){function t(){e.resize()}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},n.prototype.resize=function(){var t=d(this.element),e=this.elementSize&&t;e&&t.innerWidth===this.elementSize.innerWidth||(this.layout(),delete this.resizeTimeout)},n.prototype.addItems=function(t){var e=this._getItems(t);return e.length?(this.items.push.apply(this.items,e),e):void 0},n.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},n.prototype.prepended=function(t){var e=this._getItems(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._prelayout(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},n.prototype.reveal=function(t){if(t&&t.length)for(var e=0,i=t.length;i>e;e++){var n=t[e];n.reveal()}},n.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},n.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i],r=this.getItem(s);r&&e.push(r)}return e}},n.prototype.remove=function(t){t=i(t);var e=this.getItems(t);this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var n=0,s=e.length;s>n;n++){var r=e[n];r.remove();var o=y(this.items,r);this.items.splice(o,1)}},n.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},n.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},n.prototype.sortItemsByPosition=function(){this.items.sort(function(t,e){return t.position.y-e.position.y||t.position.x-e.position.x})},n.prototype.fit=function(t,e,i){function n(){o++,2===o&&r.emitEvent("fitComplete",[r,s])}var s=this.getItem(t);if(s){this._getMeasurements(),this.stamp(s.element),s.getSize(),s.isPlacing=!0,e=void 0===e?s.rect.x:e,i=void 0===i?s.rect.y:i,s.positionPlaceRect(e,i,!0);var r=this,o=0;s.on("layout",function(){return n(),!0}),this.on("layoutComplete",function(){return n(),!0}),s.moveTo(s.placeRect.x,s.placeRect.y),this.layout(),this.unstamp(s.element),this.sortItemsByPosition(),s.isPlacing=!1,s.copyPlaceRectPosition()}},n.prototype.itemDragStart=function(t){this.stamp(t);var e=this.getItem(t);e&&e.dragStart()},n.prototype.itemDragMove=function(t,e,i){function n(){r.layout(),delete r.dragTimeout}var s=this.getItem(t);s&&s.dragMove(e,i);var r=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(n,40)},n.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},n.prototype.itemDragEnd=function(t){function e(){return o++,o!==r?!0:(n&&(l.remove(n.element,"is-positioning-post-drag"),n.isPlacing=!1,n.copyPlaceRectPosition()),a.unstamp(t),a.sortItemsByPosition(),n&&s&&a.emitEvent("dragItemPositioned",[a,n]),!0)}var i,n=this.getItem(t);if(n&&(i=n.didDrag,n.dragStop()),!n||!i&&!n.needsPositioning)return void this.unstamp(t);l.add(n.element,"is-positioning-post-drag");var s=n.needsPositioning,r=s?2:1,o=0,a=this;s?(n.on("layout",e),n.moveTo(n.placeRect.x,n.placeRect.y)):n&&n.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",e),this.layout()},n.prototype.bindDraggabillyEvents=function(t){t.on("dragStart",this.handleDraggabilly.dragStart),t.on("dragMove",this.handleDraggabilly.dragMove),t.on("dragEnd",this.handleDraggabilly.dragEnd)},n.prototype.bindUIDraggableEvents=function(t){t.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},n.prototype.destroy=function(){this.element.style.position="",this.element.style.height="",delete this.element.packeryGUID;for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.destroy()}this.unbindResize()},n.data=function(t){var e=t.packeryGUID;return e&&b[e]},c(function(){for(var t=p.querySelectorAll(".js-packery"),e=0,i=t.length;i>e;e++){var s,r=t[e],o=r.getAttribute("data-packery-options");try{s=o&&JSON.parse(o)}catch(a){m&&m.error("Error parsing data-packery-options on "+r.nodeName.toLowerCase()+(r.id?"#"+r.id:"")+": "+a);continue}var l=new n(r,s);g&&g.data(r,"packery",l)}}),g&&g.bridget&&g.bridget("packery",n),n.Rect=r,n.Packer=o,n.Item=a,t.Packery=n}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,r=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),r="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===e(s[n],i)&&s[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,r=this.getListenersAsObject(t);for(s in r)r.hasOwnProperty(s)&&(n=e(r[s],i),-1!==n&&r[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,r=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,r,o=this.getListenersAsObject(t);for(s in o)if(o.hasOwnProperty(s))for(n=o[s].length;n--;)i=o[s][n],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",r):t.eventie=r}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("eventEmitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(this,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return"[object Array]"===d.call(t)}function r(t){var e=[];if(s(t))e=t;else if("number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,i){if(!(this instanceof o))return new o(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=r(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var s=this;setTimeout(function(){s.check()})}function a(t){this.img=t}function l(t){this.src=t,f[t]=this}var c=t.jQuery,u=t.console,h=void 0!==u,d=Object.prototype.toString;o.prototype=new e,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var s=i.querySelectorAll("img"),r=0,o=s.length;o>r;r++){var a=s[r];this.addImage(a)}}},o.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},o.prototype.check=function(){function t(t,s){return e.options.debug&&h&&u.log("confirm",t,s),e.progress(t),i++,i===n&&e.complete(),!0}var e=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var s=0;n>s;s++){var r=this.images[s];r.on("confirm",t),r.check()}},o.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=f[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var f={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},o}),function(){var t;window.packeryCollection=[],t=function(t){var e,i,n,s,r;for(n=0,void 0===t.length&&"object"==typeof t&&(i=t,t=[],t.push(i)),r=[];n<t.length;)e=t[n],s=new Packery(e,{itemSelector:".iso-item",columnWidth:e.querySelector(".grid-sizer"),gutter:e.querySelector(".gutter-sizer")}),packeryCollection.push(s),e.setAttribute("data-packery",packeryCollection.length-1),r.push(n++);return r},window.gridInit=function(e,i){var n;return n=e?e:document.getElementsByClassName("iso-wrap"),document.body.classList.contains("page-home")?imagesLoaded(n,function(){return t(n)}):$window.on("load",function(){return t(n)}),i&&t(n),$window.on("tabbed",function(){return t(n)})},$(function(){return gridInit()})}.call(this),function(){$(function(){var t,e;return t=$(".filter-select"),t.on("change",function(){var t,i,n,s;return t=$(this).parents(".filters"),i=t.data("filter-content"),n={},t.find(".filter-select").each(function(){var t,e,i;return t=$(this),e=t.attr("name"),i=t.val(),n[e]=i}),n.page="clear",s=window.location.pathname+updatedQueryString(n),t.trigger("filtered",[s]),e(s,i)}),$document.on("change",".filter-checkbox",function(){var t,i,n,s,r;return i=this,t=$(this).parents(".filters"),n=t.data("filter-content"),s={},$(i).is(":checked")?s[i.getAttribute("name")]="1":s[i.getAttribute("name")]="clear",r=window.location.pathname+updatedQueryString(s),e(r,n)}),$document.on("click",".bubble-filter",function(t){var i,n,s,r;if(!this.classList.contains("js-ignore"))return t.preventDefault(),i=$(this),n=i.parents(".bubble-filters").data("filter-content"),this.getAttribute("data-val")&&this.getAttribute("data-key")?(s={page:"clear"},s[this.getAttribute("data-key")]=this.getAttribute("data-val"),r=window.location.pathname+updatedQueryString(s)):r=this.getAttribute("href"),"no"===i.parents(".bubble-filters").data("update-url")?e(r,n,!0):e(r,n),i.parent().find(".is-active").removeClass("is-active"),this.classList.add("is-active")}),$document.on("click",".footer-filter",function(){return window.footerPage=1}),e=function(t,e,i){var n,s,r,o;return i||updateURL(t),s=$("<div/>"),(r=document.getElementsByClassName(e)[0])?(n=$(r),r.classList.add("is-loading"),o=t.split("?").length>1?"&":"?",t=t+o+"ajax=1",s.load(t+" ."+e,function(){var t,i,o,a,l,c,u;for(i=s[0].getElementsByClassName(e)[0],o=i.children,c=document.createDocumentFragment();r.lastChild;)r.removeChild(r.lastChild);for(0===o.length&&$(r).append("<p class='message empty-message'>We couldn't find anything matching that criteria.</p>");first_child(i);)l=first_child(i),l.classList.add("is-fadein"),c.appendChild(l);return"talks-listing"!==e&&"js-talks-filterable"!==e&&"people-listing"!==e||(u=i.getAttribute("data-total"),a=document.getElementsByClassName("listing-count"),null!=a&&(a[0].innerHTML=u)),r.appendChild(c),r.classList.remove("is-loading"),setMultiLineEllipsis(r.getElementsByClassName("js-ellipsis")),gridInit(n.closest(".iso-wrap")[0],!0),t=n.find(".js-inf-scroll"),t.length&&"function"==typeof paginationInit&&paginationInit(t),checkFooterSticky()})):void 0}})}.call(this),function(t,e,i){"use strict";e.infinitescroll=function(t,i,n){this.element=e(n),this._create(t,i)||(this.failed=!0)},e.infinitescroll.defaults={loading:{finished:i,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,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",
msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:i},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},debug:!1,behavior:i,binder:e(t),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:i,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:i,path:i,prefill:!1,maxPage:i},e.infinitescroll.prototype={_binding:function(t){var e=this,n=e.options;return n.v="2.0b2.120520",n.behavior&&this["_binding_"+n.behavior]!==i?void this["_binding_"+n.behavior].call(this):"bind"!==t&&"unbind"!==t?(this._debug("Binding value  "+t+" not valid"),!1):("unbind"===t?this.options.binder.unbind("smartscroll.infscr."+e.options.infid):this.options.binder[t]("smartscroll.infscr."+e.options.infid,function(){e.scroll()}),void this._debug("Binding",t))},_create:function(n,s){var r=e.extend(!0,{},e.infinitescroll.defaults,n);this.options=r;var o=e(t),a=this;if(!a._validate(n))return!1;var l=e(r.nextSelector).attr("href");if(!l)return this._debug("Navigation selector not found"),!1;r.path=r.path||this._determinepath(l),r.contentSelector=r.contentSelector||this.element,r.loading.selector=r.loading.selector||r.contentSelector,r.loading.msg=r.loading.msg||e('<div id="infscr-loading"><img alt="Loading..." src="'+r.loading.img+'" /><div>'+r.loading.msgText+"</div></div>"),(new Image).src=r.loading.img,r.pixelsFromNavToBottom===i&&(r.pixelsFromNavToBottom=e(document).height()-e(r.navSelector).offset().top);var c=this;return r.loading.start=r.loading.start||function(){e(r.loading.selector).addClass("is-loading"),r.loading.msg.appendTo(r.loading.selector).show(r.loading.speed,e.proxy(function(){this.beginAjax(r)},c))},r.loading.finished=r.loading.finished||function(){r.loading.msg.fadeOut(r.loading.speed)},r.callback=function(t,n,a){r.behavior&&t["_callback_"+r.behavior]!==i&&t["_callback_"+r.behavior].call(e(r.contentSelector)[0],n,a),s&&s.call(e(r.contentSelector)[0],n,r,a),r.prefill&&o.bind("resize.infinite-scroll",t._prefill)},n.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(t){console[t]=this.call(console[t],console)},Function.prototype.bind)),this._setup(),r.prefill&&this._prefill(),!0},_prefill:function(){function i(){return s.height()<=r.height()}var n=this,s=e(document),r=e(t);this._prefill=function(){i()&&n.scroll(),r.bind("resize.infinite-scroll",function(){i()&&(r.unbind("resize.infinite-scroll"),n.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(t){var e=this.options;if(e.behavior&&this["_determinepath_"+e.behavior]!==i)return this["_determinepath_"+e.behavior].call(this,t);if(e.pathParse)return this._debug("pathParse manual"),e.pathParse(t,this.options.state.currPage+1);if(t.match(/^(.*?)\b2\b(.*?$)/))t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/))return t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1);t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/))return t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),e.state.isInvalidPage=!0}return this._debug("determinePath",t),t},_error:function(t){var e=this.options;return e.behavior&&this["_error_"+e.behavior]!==i?void this["_error_"+e.behavior].call(this,t):("destroy"!==t&&"end"!==t&&(t="unknown"),this._debug("Error",t),"end"===t&&this._showdonemsg(),e.state.isDone=!0,e.state.currPage=1,e.state.isPaused=!1,void this._binding("unbind"))},_loadcallback:function(n,s,r){var o,a=this.options,l=this.options.callback,c=a.state.isDone?"done":a.appendCallback?"append":"no-append";if(a.behavior&&this["_loadcallback_"+a.behavior]!==i)return void this["_loadcallback_"+a.behavior].call(this,n,s);switch(c){case"done":return this._showdonemsg(),!1;case"no-append":"html"===a.dataType&&(s="<div>"+s+"</div>",s=e(s).find(a.itemSelector));break;case"append":var u=n.children();if(0===u.length)return this._error("end");for(o=document.createDocumentFragment();n[0].firstChild;)o.appendChild(n[0].firstChild);this._debug("contentSelector",e(a.contentSelector)[0]),e(a.contentSelector)[0].appendChild(o),s=u.get()}if(a.loading.finished.call(e(a.contentSelector)[0],a),a.animate){var h=e(t).scrollTop()+e("#infscr-loading").height()+a.extraScrollPx+"px";e("html,body").animate({scrollTop:h},800,function(){a.state.isDuringAjax=!1})}a.animate||(a.state.isDuringAjax=!1),l(this,s,r),a.prefill&&this._prefill()},_nearbottom:function(){var n=this.options,s=0+e(document).height()-n.binder.scrollTop()-e(t).height();return n.behavior&&this["_nearbottom_"+n.behavior]!==i?this["_nearbottom_"+n.behavior].call(this):(this._debug("math:",s,n.pixelsFromNavToBottom),s-n.bufferPx<n.pixelsFromNavToBottom)},_pausing:function(t){var e=this.options;if(e.behavior&&this["_pausing_"+e.behavior]!==i)return void this["_pausing_"+e.behavior].call(this,t);switch("pause"!==t&&"resume"!==t&&null!==t&&this._debug("Invalid argument. Toggling pause value instead"),t=!t||"pause"!==t&&"resume"!==t?"toggle":t){case"pause":e.state.isPaused=!0;break;case"resume":e.state.isPaused=!1;break;case"toggle":e.state.isPaused=!e.state.isPaused}return this._debug("Paused",e.state.isPaused),!1},_setup:function(){var t=this.options;return t.behavior&&this["_setup_"+t.behavior]!==i?void this["_setup_"+t.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var t=this.options;return t.behavior&&this["_showdonemsg_"+t.behavior]!==i?void this["_showdonemsg_"+t.behavior].call(this):(t.loading.msg.find("img").hide().parent().find("div").html(t.finishedMsg).animate({opacity:1},2e3,function(){e(this).parent().fadeOut(t.loading.speed)}),void t.errorCallback.call(e(t.contentSelector)[0],"done"))},_validate:function(t){for(var i in t)if(i.indexOf&&i.indexOf("Selector")>-1&&0===e(t[i]).length)return this._debug("Your "+i+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(t){var n,s,r,o,a=this,l=t.path;if(t.state.currPage++,t.maxPage!=i&&t.state.currPage>t.maxPage)return void this.destroy();switch(n=e(e(t.contentSelector).is("table")?"<tbody/>":"<div/>"),s="function"==typeof l?l(t.state.currPage):l.join(t.state.currPage),a._debug("heading into ajax",s),r="html"===t.dataType||"json"===t.dataType?t.dataType:"html+callback",t.appendCallback&&"html"===t.dataType&&(r+="+callback"),r){case"html+callback":a._debug("Using HTML via .load() method"),n.load(s+" "+t.itemSelector,i,function(t){a._loadcallback(n,t,s)});break;case"html":a._debug("Using "+r.toUpperCase()+" via $.ajax() method"),e.ajax({url:s,dataType:t.dataType,complete:function(t,e){o="undefined"!=typeof t.isResolved?t.isResolved():"success"===e||"notmodified"===e,o?a._loadcallback(n,t.responseText,s):a._error("end")}});break;case"json":a._debug("Using "+r.toUpperCase()+" via $.ajax() method"),e.ajax({dataType:"json",type:"GET",url:s,success:function(e,r,l){if(o="undefined"!=typeof l.isResolved?l.isResolved():"success"===r||"notmodified"===r,t.appendCallback)if(t.template!==i){var c=t.template(e);n.append(c),o?a._loadcallback(n,c):a._error("end")}else a._debug("template must be defined."),a._error("end");else o?a._loadcallback(n,e,s):a._error("end")},error:function(){a._debug("JSON ajax request failed."),a._error("end")}})}},retrieve:function(t){t=t||null;var n=this,s=n.options;return s.behavior&&this["retrieve_"+s.behavior]!==i?void this["retrieve_"+s.behavior].call(this,t):s.state.isDestroyed?(this._debug("Instance is destroyed"),!1):(s.state.isDuringAjax=!0,void s.loading.start.call(e(s.contentSelector)[0],s))},scroll:function(){var t=this.options,e=t.state;return t.behavior&&this["scroll_"+t.behavior]!==i?void this["scroll_"+t.behavior].call(this):void(e.isDuringAjax||e.isInvalidPage||e.isDone||e.isDestroyed||e.isPaused||this._nearbottom()&&this.retrieve())},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))}},e.fn.infinitescroll=function(t,i){var n=typeof t;switch(n){case"string":var s=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"infinitescroll");return i&&e.isFunction(i[t])&&"_"!==t.charAt(0)?void i[t].apply(i,s):!1});break;case"object":this.each(function(){var n=e.data(this,"infinitescroll");n?n.update(t):(n=new e.infinitescroll(t,i,this),n.failed||e.data(this,"infinitescroll",n))})}return this};var n,s=e.event;s.special.smartscroll={setup:function(){e(this).bind("scroll",s.special.smartscroll.handler)},teardown:function(){e(this).unbind("scroll",s.special.smartscroll.handler)},handler:function(t,i){var s=this,r=arguments;t.type="smartscroll",n&&clearTimeout(n),n=setTimeout(function(){e(s).trigger("smartscroll",r)},"execAsap"===i?0:100)}},e.fn.smartscroll=function(t){return t?this.bind("smartscroll",t):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),function(){var t,e,i,n,s,r,o,a,l,c,u;c=1,window.footerPage=1,getParameterByName("page")&&(c=getParameterByName("page")),t=c,i=".js-inf-scroll",n=".js-inf-item",s=".js-inf-next-page",u=window.location.pathname,r={debug:!1,loading:{img:"",selector:s,msg:$("<span></span>"),finished:function(){return $(s).removeClass("is-loading")}},state:{currPage:c},bufferPx:600,contentSelector:i,nextSelector:".next a",navSelector:".pagination",itemSelector:n},window.paginationInit=function(t){var e;return e=t?t:$(i),e.infinitescroll(r,function(t,e){return l(t,e.state.currPage)}),e.infinitescroll("pause")},$(function(){var t,r,o;return paginationInit(),$(document).on("click",s,function(){var t;return t=$(i),t.infinitescroll("pause"),t.infinitescroll("retrieve")}),$(document).on("click",".more-footer-happening",function(t){return t.preventDefault(),e()}),$document.on("click.updateHistory",".js-update-url a, a.js-update-url",function(t){var e,i,s,r;return e=$(this),"_blank"===e.attr("target")||"ignore"===e.data("update-url")||t.metaKey?!0:(t.preventDefault(),i=e.closest(n),r=i.data("page")?i.data("page"):c,s=updatedQueryString({page:r}),updateURL(s,!0),window.location=e.attr("href"))}),t=$(".load-previous"),t.length?(o=t.data("page"),r=$("<div/>"),$document.on("click",".load-previous",function(e){var s,a;return s=this,s.classList.add("is-loading"),e.preventDefault(),a=u+updatedQueryString({page:o}),a+=" "+n,r.load(a,function(){var e,n,a,c;if(e=r.children(),!e.length)return!1;for(n=document.createDocumentFragment();r[0].firstChild;)n.appendChild(r[0].firstChild);return $(i).prepend(n),l(e.get(),o,!0),o-=1,s.classList.remove("is-loading"),0===o?t.hide():t.attr("href",u+updatedQueryString({page:o})),a=e.get(-1),c=window.innerHeight-2*a.offsetHeight,c=-1*c,$.scrollTo(a,0,{offset:c})})})):void 0}),l=function(t,e,i,n){var r,o,a,l;return null==i&&(i=!1),null==n&&(n=s),r=$(t),o=r.closest(".iso-wrap"),a=r.closest(".iso-wrap").data("packery"),o.length&&void 0!==a?(l=packeryCollection[a],r.addClass("is-hidden"),$(n).addClass("is-loading"),imagesLoaded(t,function(){return $(n).removeClass("is-loading"),r.removeClass("is-hidden"),i?l.prepended(t):l.appended(t),setMultiLineEllipsis(t,!0)})):setMultiLineEllipsis(t,!0),r.data("page",e).addClass("is-fadein"),checkFooterSticky(),$window.trigger("infinitescroll.initNewElements",[t])},$.infinitescroll.prototype._determinepath=o=function(t){return t.match(/^(.*?page=)\b\d\b(.*?$)/)&&(t=t.match(/^(.*?page=)\b\d\b(.*?$)/).slice(1)),this._debug("cm_determinePath",t),t},$.infinitescroll.prototype._showdonemsg=a=function(){return $(".js-inf-next-page").fadeOut()},e=function(){var t,e,i;return e=document.getElementsByClassName("more-footer-happening")[0],e.classList.add("is-loading"),t=$("<div/>"),footerPage++,i=e.getAttribute("href"),t.load(""+i+"&ph="+footerPage+" "+n,function(){var i,n;if(i=t.children(),!i.length)return e.classList.add("is-hidden"),!1;for(n=document.createDocumentFragment();t[0].firstChild;)n.appendChild(t[0].firstChild);return document.getElementById("footer-inf-scroll").appendChild(n),l(i.get(),footerPage,!1,".more-footer-happening")})}}.call(this);